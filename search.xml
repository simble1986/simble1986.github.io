<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[dockerptyä½¿ç”¨]]></title>
    <url>%2Fpost%2F1c49a9aa.html</url>
    <content type="text"><![CDATA[æœ¬ç¯‡åšå®¢å°†ä»‹ç»åœ¨ä½¿ç”¨docker APIæ—¶ï¼Œå¦‚ä½•ç›‘ç®¡containerçš„PTYå®žçŽ°äº¤äº’ é—®é¢˜å¼•å…¥ dockerå®˜æ–¹å·²ç»æä¾›äº†APIç”¨æ¥ç®¡ç†clientï¼Œcontainerï¼Œimageï¼Œnetworkç­‰ï¼ŒåŸºæœ¬çš„æ“ä½œè¦†ç›–äº†docker CLIç›¸å…³åŠŸèƒ½ï¼Œä½†dockerçš„APIçŽ°åœ¨åªèƒ½ä½¿ç”¨exec_runæ¥æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼Œä¸­é—´æ— æ³•è¿›è¡Œäº¤äº’ï¼Œå¸Œæœ›èƒ½æœ‰ä¸€ä¸ªç±»ä¼¼äºŽ-itçš„æ–¹å¼æ¥å®Œæˆäº¤äº’æ“ä½œã€‚ ç»è¿‡å‡ å¤©çš„å­¦ä¹ å’Œæµ‹è¯•ï¼Œå‘çŽ°å…¶å®ždockerçš„containers.run()å’Œcontainers.exec_run()éƒ½æ˜¯å¯ä»¥è®¾ç½®stdin=True, tty=Trueã€‚ä½†å¼€å¯è¿™äº›ä¹‹åŽï¼Œå°†è¿”å›žä¸€ä¸ªsocketï¼Œéœ€è¦è‡ªå·±æ¥è¿›è¡Œå¤„ç†ã€‚ googleå¤§æ³•åŽï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªdockerptyçš„python libï¼Œå¯ä»¥å®Œæˆè¿™ä»¶äº‹æƒ… çŽ¯å¢ƒæ­å»º æ ¹æ®dockerptyçš„githubä¸Šæåˆ°çš„å®‰è£…è¿‡ç¨‹ï¼Œåªéœ€è¦pip install dockerptyå³å¯å®Œæˆå®‰è£…ã€‚ ä½†æºç å·²ç»æœ‰ä¸¤å¹´æ²¡æœ‰æ›´æ–°äº†ï¼Œè¯¥ç‰ˆæœ¬æ— æ³•åœ¨æ–°çš„docker APIä¸Šæ­£å¸¸å·¥ä½œ forkäº†å·¥ç¨‹åŽï¼Œå¯¹å…¶ä¸­çš„ä»£ç æ¶‰åŠåˆ°çš„docker APIè¿›è¡Œæ›´æ–°åŽï¼Œæµ‹è¯•å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œæœ€æ–°çš„ä»£ç å·²ç»ä¸Šä¼ åˆ°gitä¸Šsimble1986/dockerpty ä¾èµ– åŽŸæœ‰çš„projectä¸Šæåˆ°ä¾èµ–çš„docker apiä¸ºdocker-py&gt;=0.3.2ï¼Œä½†dockerçš„python APIå·²ç»æ›´æ–° å®‰è£…docker API 1pip install docker å®‰è£…æ­¥éª¤ èŽ·å–æºç  1git clone https://github.com/simble1986/dockerpty.git å®‰è£… 123$ pip uninstall dockerpty$ cd dockerpty$ python setup.py install ç›¸å…³API å‚çœ‹dockerå®˜æ–¹APIæ–‡æ¡£ï¼Œä»¥ä¸‹ä¸»è¦å¯¹containerç›¸å…³å‚æ•°åŠ ä»¥è¯´æ˜Ž tty (bool) â€“ Allocate a pseudo-TTY. stdin_open (bool) â€“ Keep STDIN open even if not attached. åŸºæœ¬ä½¿ç”¨ è¿žæŽ¥client 1234567root@slt-docker:/home/bqi# pythonPython 2.7.12 (default, Dec 4 2017, 14:50:18)[GCC 5.4.0 20160609] on linux2Type "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import docker&gt;&gt;&gt; import dockerpty&gt;&gt;&gt; client=docker.from_env() æ³¨ï¼š æ”¯æŒè¿œç¨‹API åˆ›å»ºcontainer 1&gt;&gt;&gt; test1 = client.containers.create("ubuntu","/bin/bash",tty=True,stdin_open=True) ä½¿ç”¨dockerpty 123456&gt;&gt;&gt; dockerpty.start(client,test1)root@d6ddcf619602:/# lsbin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr varroot@d6ddcf619602:/# exitexit&gt;&gt;&gt;]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>docker</tag>
        <tag>dockerpty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dockerä¸­æ— å¯†ç aptå®‰è£…mysql]]></title>
    <url>%2Fpost%2F70cf198a.html</url>
    <content type="text"><![CDATA[é—®é¢˜å‡ºçŽ° Linuxåœ¨ç¬¬ä¸€æ¬¡å®‰è£…æœ‰äº›è½¯ä»¶æ—¶ä¼šæœ‰äº¤äº’çš„è¾“å…¥çš„éœ€æ±‚ï¼Œæ¯”å¦‚mysqlåœ¨é¦–æ¬¡å®‰è£…æ—¶éœ€è¦è®¾ç½®rootçš„å¯†ç ã€‚è¿™åœ¨æ­£å¸¸é…ç½®è¿‡ç¨‹ä¸­æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†åœ¨ä½¿ç”¨DockerFileåˆ›å»ºdockeré•œåƒæ—¶ï¼Œåˆ™é‡åˆ°äº†éº»çƒ¦ã€‚ è§£å†³æ€è·¯ å¦‚æžœå°†å®‰è£…å¥½çš„mysql-serverä½¿ç”¨apt removeä»Žç³»ç»Ÿä¸­å¸è½½åŽï¼Œå†æ¬¡é‡æ–°å®‰è£…ï¼Œåˆ™ä¸å†éœ€è¦è¾“å…¥å¯†ç ã€‚å¦å¤–å½“å®‰è£…å®Œä¸€äº›è½¯ä»¶åŽï¼Œå¯ä»¥ä½¿ç”¨dpkg-configæ¥é‡æ–°é…ç½®ã€‚ è¿™æ ·ï¼Œå°±å¯ä»¥åœ¨å®‰è£…è½¯ä»¶å‰å…ˆå¯¹ç³»ç»Ÿåšå¥½ç›¸å…³é…ç½®ã€‚æŽ¥ä¸‹æ¥ï¼Œå°±æ˜¯éœ€è¦èŽ·å–è½¯ä»¶çš„å¿…è¦é…ç½®é¡¹ èŽ·å–è½¯ä»¶å¿…è¦é…ç½®é¡¹ ä¸‹è½½è½¯ä»¶åŒ… å¯ä»¥é€šè¿‡ç½‘ä¸Šæœç´¢æ–¹å¼ä¸‹è½½ç›¸å…³çš„debåŒ…ï¼Œä½†ä¼—æ‰€å‘¨çŸ¥ï¼ŒLinuxçš„è½¯ä»¶åŒ…ç‰ˆæœ¬å¤šï¼Œå¾ˆå¤šæƒ…å†µä¸‹å¹¶ä¸çŸ¥é“éœ€è¦å®‰è£…å“ªä¸ªç‰ˆæœ¬ã€‚ä½†å¯ä»¥ä½¿ç”¨aptæ¥ä¸‹è½½ç›¸åº”çš„è½¯ä»¶åŒ… 1$ apt-get -d install -y mysql-server ä½¿ç”¨apt-getçš„-då‚æ•°ï¼Œå°†åªä¼šä¸‹è½½ï¼Œä¸è¿›è¡Œå®‰è£…ã€‚ä¸‹è½½å®Œæ¯•åŽï¼Œè½¯ä»¶åŒ…ä½äºŽ/var/cache/apt/archivesç›®å½•ä¸‹ã€‚ èŽ·å–é…ç½®é¡¹ è¿›å…¥è½¯ä»¶åŒ…çš„å­˜æ”¾ç›®å½•ï¼Œç„¶åŽæ‰§è¡Œ 1dpkg-preconfigure mysql-server-5.1_5.1.49-3_amd64.deb ä½¿ç”¨debconfig-showæ¥æŸ¥çœ‹ç›¸åº”çš„é…ç½®é¡¹ 12345$ debconf-show mysql-server mysql-server/root_password: (password omitted) mysql-server/root_password_again: (password omitted) mysql-server/error_setting_password: ... å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸¤é¡¹æ˜¯å¿…é¡»é…ç½®çš„ï¼šmysql-server/root_passwordå’Œmysql-server/root_password_again é¢„é…ç½® åˆ›å»ºé…ç½®æ–‡ä»¶ åœ¨åˆé€‚çš„ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚mysql-passwdï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ 12debconf mysql-server/root_password password 123456debconf mysql-server/root_password_again password 123456 åŠ è½½é…ç½® 1$ debconf-set-selections mysql-passwd æµ‹è¯•ç»“æžœ å†æ¬¡å®‰è£…mysql-serverï¼Œå°†ä¸å†éœ€è¦è¾“å…¥å¯†ç  1$ apt-get install -y mysql-server DockerFileå¤„ç† DockerFileåº”å½“å°½é‡é¿å…ä¸éœ€è¦çš„æ“ä½œï¼Œæ‰€ä»¥ï¼ŒèŽ·å–é…ç½®é¡¹çš„æ“ä½œå¯ä»¥æå‰åœ¨å®žéªŒçŽ¯å¢ƒä¸­å®Œæˆã€‚ å¯å°†èŽ·å–çš„å‘½ä»¤è¡Œä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œä½¿ç”¨æ—¶copyè¿‡åŽ»ã€‚ 12COPY ./mysql-passwd /tmp/mysql-passwdRUN apt-get update &amp;&amp; debconf-set-selections /tmp/mysql-passwd &amp;&amp; apt-get install -yqq mysql-server &amp;&amp; rm -rf /var/lib/apt/lists/* æˆ–è€…æ˜¯åœ¨DockerFileä¸­ç›´æŽ¥ç”Ÿæˆï¼Œè¿™æ—¶åˆ™å¯ä»¥å°†mysql passwdè®¾ç½®ä¸ºå‚æ•° 12RUN echo debconf mysql-server/root_password password 123456 &gt; /tmp/mysql-passwd &amp;&amp; echo debconf mysql-server/root_password_again password 123456 &gt;&gt; /tmp/mysql-passwdRUN apt-get update &amp;&amp; debconf-set-selections /tmp/mysql-passwd &amp;&amp; apt-get install -yqq mysql-server &amp;&amp; rm -rf /var/lib/apt/lists/*]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>docker</tag>
        <tag>DockerFile</tag>
        <tag>mysql-server</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo+Nextä¸Šå¼€å¯Valineè¯„è®ºç³»ç»Ÿ]]></title>
    <url>%2Fpost%2Fa072bce6.html</url>
    <content type="text"><![CDATA[æœ‹å‹ä¹‹å‰é—®æ€Žä¹ˆæ²¡æœ‰å¼€è¯„è®ºç³»ç»Ÿï¼Œå€’ä¸æ˜¯ä¸æƒ³å¼€ï¼Œè€Œæ˜¯åˆšå¼€å§‹å»ºç«™çš„æ—¶å€™æµè§ˆäº†å¥½å¤šåšæ–‡ï¼Œä¼¼ä¹Žå¾ˆå¤šåŽŸæ¥çš„æŽ¥å£éƒ½åœ¨hexoä¸å¤ªå¥½ç”¨äº†ã€‚ç‰¹åˆ«æ˜¯å¾ˆå¤šåšæ–‡éƒ½æ˜¯ä¸¤å¹´å‰å†™çš„ï¼Œå½“ç„¶ï¼Œå¤§å¤šæ•°å…¶ä»–åŠŸèƒ½éƒ½æ²¡é—®é¢˜ ç®€ä»‹ Valine Valineæ˜¯ä¸€æ¬¾åŸºäºŽLeancloudçš„å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åŽç«¯è¯„è®ºç³»ç»Ÿã€‚ Leancloud æˆ‘çš„ç†è§£ï¼ŒLeancloudç›¸å½“äºŽæ˜¯ä¸€ä¸ªæ•°æ®æ‰˜ç®¡å¹³å°ï¼Œå¯ä»¥å¸®åŠ©åº”ç”¨å­˜å‚¨ç›¸å…³æ•°æ®ã€‚Valineä¸»è¦ç”¨åˆ°çš„æ˜¯å…¶ä¸­çš„æ•°æ®å­˜å‚¨â€”â€”comments çŽ¯å¢ƒè¯´æ˜Ž ä½¿ç”¨äº†æœ€æ–°ç‰ˆçš„Hexoä»¥åŠæœ€æ–°ç‰ˆçš„Nextä¸»é¢˜ èŽ·å–AppID æ³¨å†ŒLeancloud è®¿é—®Leancloudï¼Œç‚¹å‡»å…è´¹è¯•ç”¨å°±ä¼šè·³è½¬åˆ°æ³¨å†Œ/ç™»é™†é¡µé¢ã€‚å½“å‰æ”¯æŒé€šè¿‡Githubï¼ŒWeiboä»¥åŠQQè¿›è¡Œæ³¨å†Œ æ³¨å†Œå®ŒåŽéœ€è¦éªŒè¯é‚®ç®± åˆ›å»ºåº”ç”¨ è®¿é—®æŽ§åˆ¶å°ï¼Œåœ¨æŽ§åˆ¶å°ä¸­åˆ›å»ºæ–°åº”ç”¨ èŽ·å–åº”ç”¨Key ç‚¹å‡»æ–°åˆ›å»ºçš„åº”ç”¨â€”â€”è®¾ç½®â€”â€”åº”ç”¨Keyï¼Œä¿å­˜é¡µé¢ä¸Šçš„App IDä»¥åŠApp Keyä»¥å¤‡åŽç»­ä½¿ç”¨ é…ç½®Valine åœ¨æœ€æ–°ç‰ˆçš„Nextä¸»é¢˜ä¸­ï¼Œå·²ç»åˆå…¥äº†Valineçš„é…ç½®ä»£ç ï¼Œä½¿å¾—é…ç½®èµ·æ¥éžå¸¸å¿«æ·ã€‚è®¿é—®Hexoä¸­ä½¿ç”¨Valineï¼Œç‚¹å‡»mergedï¼Œä¼šè·³è½¬åˆ°Nextä¸»é¢˜çš„mergeåŽ†å² æ£€æŸ¥ç›¸å…³æ–‡ä»¶ å¯ä»¥å†æ¬¡æ£€æŸ¥å¹¶ç¡®è®¤ä¸»é¢˜é…ç½®æ–‡ä»¶_config.xmlï¼Œlayout/_macro/post.swigå’Œlayout/_third-party/comments/valine.swigæ˜¯å¦éƒ½å·²ç»åˆå…¥äº†ç›¸å…³ä»£ç  é…ç½®AppKey ç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶_config.xmlä¸­çš„valineéƒ¨åˆ†å†…å®¹ 12345678910valine: enable: true appid: $Your APP ID # your leancloud application appid appkey: $Your APP Key # your leancloud application appkey notify: false # mail notifier , https://github.com/xCss/Valine/wiki verify: false # Verification code placeholder: éšä¾¿è¯´äº›ä»€ä¹ˆå§ # comment box placeholder avatar: mm # gravatar style guest_info: nick,mail,link # custom comment header pageSize: 10 # pagination size é‡æ–°ç”Ÿæˆé¡µé¢ æ‰§è¡Œå‘½ä»¤ï¼Œé‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½² 1$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d åˆ°è¿™é‡Œï¼ŒæŸ¥çœ‹é¡µé¢å·²ç»å¯ä»¥çœ‹åˆ°è¯„è®ºç³»ç»Ÿ åˆ›å»ºç•™è¨€é¡µé¢ å¯ä»¥ä¸ºç«™ç‚¹åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ç•™è¨€æ¿é¡µé¢ åˆ›å»ºé¡µé¢ 1$ hexo new page guestbook é…ç½®ä¸»é¢˜ ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.xmlçš„menuå­—æ®µæ–°å¢žguestbookå­—æ®µ 12345678910menu: home: / || home tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat about: /about/ || user guestbook: /guestbook/ || comments å¯ä»¥è®¿é—®fontawesomeé€‰æ‹©è‡ªå·±å–œæ¬¢çš„å›¾æ ‡æ¥ä½œä¸ºç•™è¨€æ¿çš„å›¾æ ‡ æœ¬åœ°åŒ–å¤„ç† ç¼–è¾‘å¯¹åº”è¯­è¨€çš„é…ç½®æ–‡ä»¶themes/next/languages/zh-CN.ymlï¼Œåœ¨menuä¸­å¢žåŠ guestbookçš„ä¸­æ–‡ 1234567891011menu: home: é¦–é¡µ archives: å½’æ¡£ categories: åˆ†ç±» tags: æ ‡ç­¾ about: å…³äºŽ search: æœç´¢ schedule: æ—¥ç¨‹è¡¨ sitemap: ç«™ç‚¹åœ°å›¾ commonweal: å…¬ç›Š 404 guestbook: ç•™è¨€ ç¼–è¾‘é¡µé¢ ç¼–è¾‘ä¹‹å‰ç”Ÿæˆçš„guestbooké¡µé¢ 123456---title: ç•™è¨€æ¿date: 2018-03-26 23:36:19comments: true---&lt;center&gt;æ—¢ç„¶æ¥äº†ï¼Œå°±æ˜¯ä¸€ç§ç¼˜åˆ†ï¼Œç•™ä¸‹ç‚¹ä»€ä¹ˆå§:cat:&lt;/center&gt; é‡æ–°éƒ¨ç½²ä¹‹åŽå°±å¯ä»¥çœ‹åˆ°ç•™è¨€æ¿äº† ðŸ˜ƒ æ¸…é™¤æµ‹è¯•ç•™è¨€ ä¸ºäº†ç¡®ä¿ç•™è¨€åŠŸèƒ½å·²ç»æ­£å¸¸å·¥ä½œï¼Œéƒ½ä¼šæµ‹è¯•ä¸€ä¸‹ã€‚æµ‹è¯•å®Œæ¯•åŽï¼Œå¯ä»¥é€šè¿‡Leancloudçš„æŽ§åˆ¶å°æ¸…é™¤æµ‹è¯•æ•°æ® ç‚¹å‡»myblogâ€”â€”å­˜å‚¨â€”â€”Commentsï¼Œå³å¯æŸ¥çœ‹å½“å‰ç•™è¨€ï¼Œé€‰ä¸­æµ‹è¯•æ—¶çš„ç•™è¨€ï¼Œåˆ é™¤å³å¯]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>Next</tag>
        <tag>Valine</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Ubuntu 16.04ä¸Šå¼€å¯Dockerçš„Remote API]]></title>
    <url>%2Fpost%2F3e41aa59.html</url>
    <content type="text"><![CDATA[ç”±äºŽè‡ªåŠ¨åŒ–çš„è€ƒè™‘ï¼Œéœ€è¦ç”¨dockerçš„remote APIï¼Œå°è¯•äº†å¤šç§æ–¹æ³•ï¼Œæœ€ç»ˆæ‰æ‰¾åˆ°äº†å¯è¡Œçš„æ–¹æ³• å¯è¡Œçš„æ–¹æ³• ç¼–è¾‘/lib/systemd/system/docker.service 1$ vim /lib/systemd/system/docker.service ä¿®æ”¹ExecStartçš„å‚æ•° 1ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2375 éšåŽæ‰§è¡Œservice docker restartæ—¶ä¼šæç¤ºWarning: docker.service changed on disk. Run 'systemctl daemon-reload' to reload units.åˆ™è¡¨ç¤ºé…ç½®æˆåŠŸ 1systemctl daemon-reload é‡å¯dockeræœåŠ¡ 1service docker restart æµ‹è¯•æ˜¯å¦æˆåŠŸ 12$ curl http://localhost:2375/containers/json[&#123;"Id":"30c8e35f1292421d11f6b09385a4fc980d6abaca591d0f52b18dbad8e4f5be04","Names":["/clever_murdock"],"Image":"portainer/portainer","ImageID":"sha256:a8f2aeb34cf69178be1d152759fb17ccff7915faf750c82cd7d1851b12ec7b37","Command":"/portainer","Created":1520845664,"Ports":[&#123;"IP":"0.0.0.0","PrivatePort":9000,"PublicPort":9000,"Type":"tcp"&#125;],"Labels":&#123;&#125;,"State":"running","Status":"Up 13 minutes","HostConfig":&#123;"NetworkMode":"default"&#125;,"NetworkSettings":&#123;"Networks":&#123;"bridge":&#123;"IPAMConfig":null,"Links":null,"Aliases":null,"NetworkID":"78fa057306e70838bab1e18359c86bd8eff7de2285c351784ad951cd7a73f8d1","EndpointID":"e99ca98169320155c8833a8746be7d0e1c8d98186c75fba9d9bf2486367a4e00","Gateway":"172.17.0.1","IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:02","DriverOpts":null&#125;&#125;&#125;,"Mounts":[&#123;"Type":"bind","Source":"/opt/portainer","Destination":"/data","Mode":"","RW":true,"Propagation":"rprivate"&#125;,&#123;"Type":"bind","Source":"/var/run/docker.sock","Destination":"/var/run/docker.sock","Mode":"","RW":true,"Propagation":"rprivate"&#125;]&#125;] ä¸å¯è¡Œçš„æ–¹æ³• åŒæ—¶åˆ—å‡ºåœ¨Ubuntuä¸Šä¸å¯è¡Œçš„æ–¹æ³• ä¿®æ”¹/etc/default/dockerä¸­çš„DOCKER_OPTS 1DOCKER_OPTS='-H fd:// -H tcp://0.0.0.0:2375' ä¿®æ”¹/etc/init/docker.confä¸­çš„DOCKER_OPTS ç½‘ä¸Šæœ‰äººè¯´åœ¨Ubuntu14.04ä¸Šå¯ä»¥ç”Ÿæ•ˆ 123# modify these in /etc/default/$UPSTART_JOB (/etc/default/docker) DOCKERD=/usr/bin/dockerd DOCKER_OPTS='-H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375']]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>script</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨hexoæ­å»ºè‡ªå·±çš„åšå®¢â€”â€”åˆ›å»ºç«™ç‚¹]]></title>
    <url>%2Fpost%2F80ca9385.html</url>
    <content type="text"><![CDATA[å®‰è£…åŠé…ç½® ç®€ä»‹ Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€ä»‹ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æž¶ï¼Œå¯ä»¥ä½¿ç”¨Markdownè§£æžæ–‡ç« å¹¶ç”Ÿæˆç½‘ç«™ è¯´æ˜Ž ç«™ç‚¹é…ç½®æ–‡ä»¶ $site_dir/_config.xml ä¸»é¢˜é…ç½®æ–‡ä»¶$site_dir/theme/$theme_dir/_config å®‰è£…hexo å½“çŽ¯å¢ƒå‡†å¤‡å¥½gitä»¥åŠnodejsåŽä¾¿å¯ä»¥å®‰è£…hexo 1npm install hexo-cli -g å»ºç«™ å®‰è£…HexoåŽï¼Œåˆ›å»ºç«™ç‚¹æ–‡ä»¶å­˜æ”¾çš„æ–‡ä»¶å¤¹ï¼Œå¦‚blogï¼Œç„¶åŽæ‰§è¡Œ 123$ hexo init blog$ cd blog$ npm install å®ŒæˆåŽï¼Œblogç›®å½•ç»“æž„ 12345678.â”œâ”€â”€ _config.ymlâ”œâ”€â”€ package.jsonâ”œâ”€â”€ scaffoldsâ”œâ”€â”€ source| â”œâ”€â”€ _drafts| â””â”€â”€ _postsâ””â”€â”€ themes é…ç½® ä¿®æ”¹_config.yml 123456title: your site tilesubtitle: description: descriptionauthor: your namelanguage: zh-Hanstimezone: Asia/Shanghai å¸¸ç”¨å‘½ä»¤ æ¸…é™¤ç¼“å­˜æ–‡ä»¶åŠå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ 1$ hexo clean å¯åŠ¨æœåŠ¡å™¨ 1$ hexo server é»˜è®¤çŠ¶å†µä¸‹ï¼ŒæœåŠ¡å™¨å°†ä½¿ç”¨4000ç«¯å£ã€‚å¯ä»¥é€šè¿‡hexo server -p 80æ¥å°†serverç»‘å®šè‡³80ç«¯å£ éƒ¨ç½²ç½‘ç«™ å¯å°†ç½‘ç«™æŒ‰ç…§_config.ymlä¸­çš„é…ç½®ç›´æŽ¥éƒ¨ç½²äºŽgithubç­‰ï¼ˆåŽç»­çœ‹å¿ƒæƒ…å†™æ­¥éª¤ï¼‰ 1$ hexo deploy ä¸»é¢˜ä¿®æ”¹ å¯è®¿é—®hexoå®˜æ–¹ä¸»é¢˜åº“é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¹¶ä¸‹è½½è‡³themeç›®å½•ä¸‹ ä¿®æ”¹_config.xmlä¸­çš„themeå­—æ®µ 1theme: landscape å†™ä½œ æœ‰ä¸¤ç§æ–¹æ³•åˆ›å»ºæ–‡ç«  åˆ›å»ºæ–‡ç«  hexoå‘½ä»¤è¡Œæ–¹å¼ 1$ hexo new &lt;layout&gt; title layoutä¸ºæ¨¡ç‰ˆ å‘½ä»¤æ‰§è¡ŒåŽï¼Œé»˜è®¤æ–‡ç« å°†ä½äºŽsource/_post/ç›®å½•ä¸‹ï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š 12345---title: testdate: 2018-03-25 23:10:04tags:--- ç›´æŽ¥åˆ›å»ºæ–‡ä»¶ 12$ cd source/_post/$ touch myfirstblog.md æ­¤æ—¶æ–‡ä»¶å†…å®¹ä¸ºç©ºï¼Œéœ€è¦è‡ªå·±æ·»åŠ ç›¸å…³å†…å®¹ åˆ›å»ºæ ‡ç­¾é¡µ é…ç½®ç¡®è®¤ ç¡®è®¤ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æœ‰ä»¥ä¸‹å†…å®¹ 1tag_dir: tags ç¡®è®¤ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­tagsæ‰“å¼€ 123menu: ä¸»é¡µ: / || home æ ‡ç­¾: /tags/ || tags åˆ›å»ºæ ‡ç­¾é¡µ 1$ hexo new page tags ä¿®æ”¹tags/index.mdä¸­çš„typeä¸º&quot;tags&quot; 12345---title: Tagclouddate: 2018-03-23 01:18:00type: "tags"--- åˆ›å»ºåˆ†ç±»é¡µé¢ ä¸Žåˆ›å»ºæ ‡ç­¾é¡µç›¸ä¼¼ ç¡®è®¤é…ç½® ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æœ‰category_dir: categories ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„åˆ†ç±»: /categories/ || thå¼€å¯ åˆ›å»ºåˆ†ç±»ä¹Ÿ 1$ hexo new page categories]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>hexo</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dockeråŸºæœ¬æ“ä½œï¼ˆä¸€ï¼‰]]></title>
    <url>%2Fpost%2F493f285a.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡ä½œä¸ºdockerä½¿ç”¨ç¬”è®°ä¾›å°ä¼™ä¼´ä»¬å‚è€ƒ å‡†å¤‡å·¥ä½œ å®‰è£…æœ€æ–°ç‰ˆçš„docker-ceï¼Œä¼šå°†è‡ªåŠ¨å‘½ä»¤è¡Œè¡¥é½å®‰è£…åœ¨/usr/share/bash-completion/completions/dockerç›®å½• ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œåœ¨ubuntuä¸Šæ‰“å¼€dockerå‘½ä»¤è¡Œè‡ªåŠ¨è¡¥é½åŠŸèƒ½ ç¼–è¾‘/etc/bash.bashrcæ–‡ä»¶ï¼ŒæŸ¥æ‰¾completionæ®µï¼Œå°†è¯¥æ®µå†…å®¹å‰çš„#åˆ é™¤å³å¯ 12345678# enable bash completion in interactive shellsif ! shopt -oq posix; then if [ -f /usr/share/bash-completion/bash_completion ]; then . /usr/share/bash-completion/bash_completion elif [ -f /etc/bash_completion ]; then . /etc/bash_completion fifi imageæ“ä½œ build image 1$ docker build -t mytest:latest . æŸ¥çœ‹image 12345$ docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEnginx &lt;none&gt; 73acd1f0cfad 8 days ago 109MBmongo 3 5b1317f8158f 8 days ago 366MB$ dockeer image ls åˆ é™¤image 12$ docker image rm &lt;id/name&gt;$ docker rmi &lt;id/name&gt; ä»Ždocker hubä¸ŠèŽ·å–image å›½å†…è®¿é—®docker hubè¾ƒæ…¢ï¼Œå¯ä½¿ç”¨é˜¿é‡Œäº‘çš„dockeré•œåƒæœåŠ¡ 1$ docker pull nginx continerç›¸å…³ åˆ›å»ºdocker 1$ docker run -d --name mytest -p 80:80 mynginx å¸¸ç”¨å‚æ•°è¯´æ˜Ž â€“rm å½“è¿è¡Œç»“æŸï¼ˆå½“CMDæˆ–entrypointæˆ–docker runå‘½ä»¤è¡ŒæŒ‡å®šçš„å‘½ä»¤è¿è¡Œç»“æŸæ—¶ï¼Œå®¹å™¨åœæ­¢ï¼‰æ—¶è‡ªåŠ¨åˆ é™¤docker -it é‡å®šå‘dockerç»ˆç«¯ -d åœ¨åŽå°æ‰§è¡Œ -e æ·»åŠ è¿è¡Œæ—¶çš„å‚æ•°ï¼Œå¸¸è¢«ç”¨äºŽdocker CMDæ‰§è¡Œæ—¶å¢žåŠ å‚æ•° dockeræ”¯æŒé•¿idå’ŒçŸ­idæ–¹å¼ç´¢å¼•ï¼Œäº¦å¯é€šè¿‡åç§°è¿›è¡Œç´¢å¼• stop/start/restartå®¹å™¨ é€šè¿‡docker stopå¯ä»¥åœæ­¢è¿è¡Œçš„å®¹å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨docker killæ¥å¿«é€Ÿåœæ­¢ä¸€ä¸ªå®¹å™¨ docker startä¼šä¿ç•™å®¹å™¨çš„ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶çš„æ‰€æœ‰å‚æ•° docker restartå¯ä»¥é‡å¯å®¹å™¨ å¯ä»¥åœ¨å¯åŠ¨å®¹å™¨æ—¶è®¾ç½®â€“restartæ¥è‡ªåŠ¨é‡å¯å®¹å™¨ åˆ é™¤å®¹å™¨ å¯ä»¥ä½¿ç”¨docker psåˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ å®¹å™¨åœæ­¢è¿è¡Œä¸ä»£è¡¨å®¹å™¨å·²ç»è¢«åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨docker ps -a ä½¿ç”¨docker rmæ¥åˆ é™¤ä¸€ä¸ªå®¹å™¨ ä½¿ç”¨docker rmiåˆ™ä¼šåˆ é™¤dockerçš„image æŸ¥çœ‹åŠæ“ä½œ æŸ¥çœ‹å®¹å™¨çŠ¶æ€ 123$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES30c8e35f1292 portainer/portainer "/portainer" 10 days ago Up 2 days 0.0.0.0:9000-&gt;9000/tcp clever_murdock ä½¿ç”¨docker ps -aæŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…å«ä¼‘çœ çŠ¶æ€ï¼‰ 1234$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES30c8e35f1292 portainer/portainer "/portainer" 10 days ago Up 2 days 0.0.0.0:9000-&gt;9000/tcp clever_murdockef58155f9957 registry:2 "/entrypoint.sh /etcâ€¦" 2 days ago Exited (137) 41 hours ago sltregistry è¿žæŽ¥åˆ°å®¹å™¨çš„ç»ˆç«¯ å°½é‡ä½¿ç”¨execæ–¹æ³•ï¼Œattachè¿žå…¥åŽå¯æŸ¥çœ‹å½“å‰å®¹å™¨å‘½ä»¤è¿è¡Œçš„æ—¥å¿—ï¼Œä½†ä¸å½“çš„æ“ä½œå®¹æ˜“ä½¿è¿è¡Œä¸­çš„å®¹å™¨é€€å‡º ä½¿ç”¨attach 1$ docker attach &lt;id/name&gt; ä½¿ç”¨exec 1$ docker exec -it &lt;id/name&gt; /bin/sh æŸ¥çœ‹å®¹å™¨è¿è¡Œçš„æ—¥å¿— å®¹å™¨ä»¥-då‚æ•°è¿è¡Œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨docker logsæŸ¥çœ‹è¿è¡Œè¿‡ç¨‹ä¸­çš„æ—¥å¿— 123$ docker logs mytest_haproxy[WARNING] 079/100555 (1) : [haproxy.main()] Cannot raise FD limit to 200000011, limit is 1048576.[WARNING] 079/100555 (1) : [haproxy.main()] FD limit (1048576) too low for maxconn=100000000/maxsock=200000011. Please raise 'ulimit-n' to 200000011 or more to avoid any trouble.]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨æ ‘èŽ“æ´¾ä¸Šéƒ¨ç½²nodejs]]></title>
    <url>%2Fpost%2F4fa2931e.html</url>
    <content type="text"><![CDATA[ç»ˆäºŽæœ‰æ—¶é—´åœ¨æ ‘èŽ“æ´¾ä¸Šéƒ¨ç½²ä¸€ä¸ªè‡ªå·±çš„å°åšå®¢äº†ï¼Œå¹³æ—¶ç”¨æƒ¯äº†ubuntuï¼Œåˆ°äº†æ ‘èŽ“æ´¾ä¸Šï¼Œå‘çŽ°å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ã€‚é¦–å…ˆå°±æ˜¯apt install nodejsï¼Œå®‰è£…å®Œæ²¡æœ‰npmã€‚ä¸è¿‡ï¼Œç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œä¾¿æœ‰äº†çŽ°åœ¨çš„å°ç«™ç‚¹ å®‰è£…nodejs nodejså¯ä»¥ä½¿ç”¨æºç ç¼–è¯‘å’ŒäºŒè¿›åˆ¶åŒ…æ¥å®‰è£…ã€‚è€ƒè™‘åˆ°æ ‘èŽ“æ´¾çš„å¤„ç†èƒ½åŠ›ï¼Œè¦ç¼–è¯‘ä¸€ä¸ªnodejsï¼Œå¤ªè¿‡è€—æ—¶ã€‚ç›´æŽ¥é€‰ç”¨å®˜ç½‘æä¾›çš„äºŒè¿›åˆ¶åŒ…å®Œæˆå®‰è£… å®‰è£…åŒ…èŽ·å– å®˜ç½‘ä¸ŠARMçš„binåŒ…æœ‰3ä¸ªï¼Œåˆ†åˆ«æ˜¯v6ï¼Œv7å’Œv8ã€‚è€Œæ ‘èŽ“æ´¾çš„ç‰ˆæœ¬æ˜¯v7 12$ uname -aLinux raspberrypi 4.9.80-v7+ #1098 SMP Fri Mar 9 19:11:42 GMT 2018 armv7l GNU/Linux èŽ·å–å®‰è£…åŒ… 1$ wget https://nodejs.org/dist/v8.10.0/node-v8.10.0-linux-armv7l.tar.xz å®‰è£…nodejs è§£åŽ‹ç¼© 1234567$ tar -Jxv -f node-v8.10.0-linux-armv7l.tar.xznode-v8.10.0-linux-armv7l/node-v8.10.0-linux-armv7l/README.mdnode-v8.10.0-linux-armv7l/bin/node-v8.10.0-linux-armv7l/bin/nodenode-v8.10.0-linux-armv7l/bin/npm... å¯æ ¹æ®ä¸ªäººå–œå¥½é‡å‘½åæ–‡ä»¶å¤¹ï¼Œæ­¤å¤„é‡å‘½åä¸ºnodeï¼Œåˆ†åˆ«éªŒè¯ç‰ˆæœ¬ä¿¡æ¯ 1234pi@raspberrypi:~/node $ ./bin/node -vv8.10.0pi@raspberrypi:~/node $ ./bin/npm -v5.6.0 é…ç½®nodeå’Œnpmä¸ºå…¨å±€å‘½ä»¤ 12pi@raspberrypi:~/node $ sudo ln /home/pi/node/bin/node /usr/local/bin/nodepi@raspberrypi:~/node $ sudo ln -s /home/pi/node/lib/node_modules/npm/bin/npm /usr/local/bin/npm æ­¤æ—¶æ‰§è¡Œnpmä¼šæŠ¥é”™ 123456pi@raspberrypi:~/node $ npm -vmodule.js:471 throw err; ^Error: Cannot find module '/usr/local/bin/node_modules/npm/bin/npm-cli.js' éœ€è¦ä¿®æ”¹/usr/local/bin/ç›®å½•ä¸‹çš„npmæ–‡ä»¶ï¼Œå°†$basediræ›¿æ¢ä¸ºç»å¯¹è·¯å¾„ï¼Œæ­¤å¤„ä¸º/home/pi/node/ 12345678910111213141516171819202122232425262728293031323334#!/bin/sh(set -o igncr) 2&gt;/dev/null &amp;&amp; set -o igncr; # cygwin encoding fixbasedir=`dirname "$0"`case `uname` in *CYGWIN*) basedir=`cygpath -w "$basedir"`;;esacNODE_EXE="/home/pi/node/bin/node.exe"if ! [ -x "$NODE_EXE" ]; then NODE_EXE=nodefiNPM_CLI_JS="/home/pi/node/lib/node_modules/npm/bin/npm-cli.js"case `uname` in *MINGW*) NPM_PREFIX=`"$NODE_EXE" "$NPM_CLI_JS" prefix -g` NPM_PREFIX_NPM_CLI_JS="$NPM_PREFIX/node_modules/npm/bin/npm-cli.js" if [ -f "$NPM_PREFIX_NPM_CLI_JS" ]; then NPM_CLI_JS="$NPM_PREFIX_NPM_CLI_JS" fi ;; *CYGWIN*) NPM_PREFIX=`"$NODE_EXE" "$NPM_CLI_JS" prefix -g` NPM_PREFIX_NPM_CLI_JS="$NPM_PREFIX/node_modules/npm/bin/npm-cli.js" if [ -f "$NPM_PREFIX_NPM_CLI_JS" ]; then NPM_CLI_JS="$NPM_PREFIX_NPM_CLI_JS" fi ;;esac"$NODE_EXE" "$NPM_CLI_JS" "$@" å†æ¬¡éªŒè¯ï¼Œnpmå·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œ]]></content>
      <categories>
        <category>æ ‘èŽ“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘èŽ“æ´¾</tag>
        <tag>nodejs</tag>
        <tag>pi</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fpost%2F4a17b156.html</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new "My New Post" More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
