<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Simbleçš„å°ç«™</title>
  
  <subtitle>æ™’æ™’ç‹—vsç»ƒç»ƒæ‰‹</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.simble.xyz/"/>
  <updated>2018-05-07T02:40:23.915Z</updated>
  <id>http://blog.simble.xyz/</id>
  
  <author>
    <name>Simble</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>python virtenvç¯å¢ƒæ­å»º</title>
    <link href="http://blog.simble.xyz/post/4926e490.html"/>
    <id>http://blog.simble.xyz/post/4926e490.html</id>
    <published>2018-05-06T18:32:01.000Z</published>
    <updated>2018-05-07T02:40:23.915Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘æœŸç”±äºç»„å†…æµ‹è¯•æ¡†æ¶æ›´æ–°é¢‘ç¹ï¼Œä¸”ç”±äºæ¡†æ¶é‡‡ç”¨äº†æ’ä»¶å½¢å¼ï¼Œå®‰è£…åŒ…å¾ˆå¤šã€‚å½“ä½¿ç”¨åŒä¸€å°æœåŠ¡å™¨æ¥å®‰è£…æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç”Ÿäº§ç¯å¢ƒç ´åã€‚ä¸ºæ­¤ï¼Œå¿…é¡»é‡‡ç”¨virtenvæ–¹å¼ã€‚</p><p>virtualenvçš„ç¯å¢ƒå»ºç«‹å¹¶ä¸å¤æ‚ï¼Œä½†æ¯æ¬¡éƒ½éœ€è¦å»æŸ¥ä¸€ç•ªã€‚ç‰¹æ­¤è®°å½•</p><a id="more"></a><h4 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h4><p>å®‰è£…virtualenv</p><ul><li>python2.7</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install virtualenv</span><br></pre></td></tr></table></figure><ul><li>python3</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install virtualenv</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨"><a class="markdownIt-Anchor" href="#ä½¿ç”¨"></a> ä½¿ç”¨</h4><ul><li>åˆ›å»ºå·¥ä½œç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@vm1:/home/<span class="built_in">test</span><span class="comment"># mkdir myproject</span></span><br><span class="line">root@vm1:/home/<span class="built_in">test</span><span class="comment"># cd myproject</span></span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºç‹¬ç«‹çš„pythonè¿è¡Œç¯å¢ƒ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@vm1:/home/<span class="built_in">test</span><span class="comment"># virtualenv venv</span></span><br><span class="line">New python executable <span class="keyword">in</span> /home/<span class="built_in">test</span>/myproject/venv/bin/python</span><br><span class="line">Installing setuptools, pip, wheel...done.</span><br><span class="line">root@vm1:/home/<span class="built_in">test</span><span class="comment">#</span></span><br></pre></td></tr></table></figure><ul><li>å¼•ç”¨æ–°çš„ç¯å¢ƒå˜é‡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@vm1:/home/<span class="built_in">test</span><span class="comment"># source venv/bin/activate</span></span><br><span class="line">(venv)root@vm1:/home/<span class="built_in">test</span><span class="comment">#</span></span><br></pre></td></tr></table></figure><ul><li>å¼€å§‹ä½¿ç”¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(venv)root@vm1:/home/<span class="built_in">test</span><span class="comment"># pip install docker</span></span><br></pre></td></tr></table></figure><ul><li>é€€å‡ºå½“å‰venvç¯å¢ƒ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(venv)root@vm1:/home/<span class="built_in">test</span><span class="comment"># deactivate</span></span><br><span class="line">root@vm1:/home/<span class="built_in">test</span><span class="comment">#</span></span><br></pre></td></tr></table></figure><h3 id="ä¸€ä¸ªå°é—®é¢˜"><a class="markdownIt-Anchor" href="#ä¸€ä¸ªå°é—®é¢˜"></a> ä¸€ä¸ªå°é—®é¢˜</h3><p>git cloneæ—¶é‡åˆ°<code>server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none</code>çš„è§£å†³æ–¹æ³•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GIT_SSL_NO_VERIFY=1</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿‘æœŸç”±äºç»„å†…æµ‹è¯•æ¡†æ¶æ›´æ–°é¢‘ç¹ï¼Œä¸”ç”±äºæ¡†æ¶é‡‡ç”¨äº†æ’ä»¶å½¢å¼ï¼Œå®‰è£…åŒ…å¾ˆå¤šã€‚å½“ä½¿ç”¨åŒä¸€å°æœåŠ¡å™¨æ¥å®‰è£…æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç”Ÿäº§ç¯å¢ƒç ´åã€‚ä¸ºæ­¤ï¼Œå¿…é¡»é‡‡ç”¨virtenvæ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;virtualenvçš„ç¯å¢ƒå»ºç«‹å¹¶ä¸å¤æ‚ï¼Œä½†æ¯æ¬¡éƒ½éœ€è¦å»æŸ¥ä¸€ç•ªã€‚ç‰¹æ­¤è®°å½•&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://blog.simble.xyz/categories/python/"/>
    
    
      <category term="python" scheme="http://blog.simble.xyz/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Docker APIä¸€ç§è¿æ¥åˆ°PTYçš„äº¤äº’æ–¹æ³•</title>
    <link href="http://blog.simble.xyz/post/b18ab8ad.html"/>
    <id>http://blog.simble.xyz/post/b18ab8ad.html</id>
    <published>2018-05-04T01:35:45.000Z</published>
    <updated>2018-05-04T09:51:16.369Z</updated>
    
    <content type="html"><![CDATA[<p>æŠ˜è…¾äº†ä¸€å‘¨å¤šï¼Œç»ˆäºæå®šäº†åœ¨dockerçš„python APIä¸‹ï¼Œå½“æ‰§è¡Œexec_runæ—¶ï¼Œå¦‚ä½•è¿æ¥containerçš„PTYã€‚</p><p>å½“å¼„æ˜ç™½ä¹‹åï¼Œæ‰å‘ç°åŸæ¥æ˜¯é‚£ä¹ˆç®€å•ã€‚ä¹‹å‰å‡ ä¹æœéäº†googleå’Œç™¾åº¦ï¼Œéƒ½æ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„æ–‡ç« </p><a id="more"></a><h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>è¿™ä¸¤å¹´ï¼Œdockerçš„å‘å±•å¦‚ç«å¦‚è¼ï¼Œä½œä¸ºç½‘ç»œæµ‹è¯•ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨å°è¯•ç€å°†dockerå¼•å…¥æµ‹è¯•ä¸­ï¼Œæ¥æ›´å¤šçš„æ¨¡æ‹ŸçœŸå®ç”¨æˆ·ï¼Œå¹¶å®ç°è‡ªåŠ¨åŒ–ã€‚</p><p>Pexpectæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§ä¸”å¥½ç”¨çš„å·¥å…·ï¼Œå½“éœ€è¦ä¸è®¾å¤‡å’ŒPCè¿æ¥æ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šç”¨åˆ°ã€‚è€Œä¹‹å‰éƒ½ç›´æ¥ä½¿ç”¨spawnä¸€ä¸ªå‘½ä»¤è¡Œæ¥è¿›è¡Œè¿æ¥</p><p>æœ¬ç¯‡åšæ–‡å°†ä»‹ç»ä¸€ç§ä½¿ç”¨pexpectçš„fdspawnï¼Œé€šè¿‡socketæ–¹å¼è¿æ¥åˆ°containerçš„æ–¹æ³•ï¼Œä»¥ä¾¿ä¸è¿œç¨‹çš„containerè¿›è¡Œäº¤äº’</p><h2 id="è‡ªåŠ¨åŒ–æ€è·¯"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨åŒ–æ€è·¯"></a> è‡ªåŠ¨åŒ–æ€è·¯</h2><ol><li>clienté€šè¿‡python APIè¿æ¥åˆ°docker</li><li>åˆ›å»ºä¸€ä¸ªcontainerå¹¶ä¿æŒè¿è¡Œ</li><li>ä½¿ç”¨exec_run()æ–°å»ºä¸€ä¸ªè¿æ¥ï¼Œè¿è¡Œ<code>/bin/bash</code>ï¼Œå¹¶å¼€å¯socketæ–¹å¼</li><li>ä½¿ç”¨pexpectçš„fdspawnè¿æ¥exec_run()è¿”å›çš„socket</li></ol><h3 id="ç¯å¢ƒå‡†å¤‡"><a class="markdownIt-Anchor" href="#ç¯å¢ƒå‡†å¤‡"></a> ç¯å¢ƒå‡†å¤‡</h3><ul><li>Dockerå¼€å¯remote API</li></ul><p>å‚è§ä¹‹å‰åšæ–‡</p><ul><li>Docker Client</li></ul><p>å®‰è£…å¿…è¦çš„åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pip install docker</span><br><span class="line">$ pip install pexpect</span><br></pre></td></tr></table></figure><h2 id="å¼€å§‹ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å¼€å§‹ä½¿ç”¨"></a> å¼€å§‹ä½¿ç”¨</h2><ul><li>åˆ›å»ºcontainer</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> docker</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>client=docker.DockerClient(base_url=<span class="string">'tcp://10.0.0.10:1234'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c1 = client.containers.run(<span class="string">"ubuntu"</span>, detach=<span class="keyword">True</span>, tty=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><ul><li>è¿æ¥container</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>res = c1.exec_run(<span class="string">"/bin/bash"</span>, socket=<span class="keyword">True</span>, stdin=<span class="keyword">True</span>, tty=<span class="keyword">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>res</span><br><span class="line">ExecResult(exit_code=<span class="keyword">None</span>, output=&lt;socket object, fd=<span class="number">15</span>, family=<span class="number">1</span>, type=<span class="number">1</span>, protocol=<span class="number">0</span>&gt;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sock = res.output</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sock</span><br><span class="line">&lt;socket object, fd=<span class="number">15</span>, family=<span class="number">1</span>, type=<span class="number">1</span>, protocol=<span class="number">0</span>&gt;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨pexpectè¿æ¥</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pexpect.fdpexpect</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>session=pexpect.fdpexpect.fdspawn(sock.fileno(),timeout=<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&gt;&gt;&gt; session.send(<span class="string">"ls\n"</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>session.expect(<span class="string">"#"</span>)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>session.before</span><br><span class="line"><span class="string">' ls\r\n\x1b[0m\x1b[01;34mbin\x1b[0m   \x1b[01;34mdev\x1b[0m  \x1b[01;34mhome\x1b[0m  \x1b[01;34mlib64\x1b[0m  \x1b[01;34mmnt\x1b[0m  \x1b[01;34mproc\x1b[0m  \x1b[01;34mrun\x1b[0m   \x1b[01;34msrv\x1b[0m  \x1b[30;42mtmp\x1b[0m  \x1b[01;34mvar\x1b[0m\r\n\x1b[01;34mboot\x1b[0m  \x1b[01;34metc\x1b[0m  \x1b[01;34mlib\x1b[0m   \x1b[01;34mmedia\x1b[0m  \x1b[01;34mopt\x1b[0m  \x1b[01;34mroot\x1b[0m  \x1b[01;34msbin\x1b[0m  \x1b[01;34msys\x1b[0m  \x1b[01;34musr\x1b[0m\r\n\x1b]0;root@6a097ddbe55d: /\x07root@6a097ddbe55d:/'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>session.after</span><br><span class="line"><span class="string">'#'</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h3><ul><li>åœ¨ä½¿ç”¨exec_run()æ‰§è¡Œå¼€å¯å‘½ä»¤æ—¶ï¼Œéœ€è¦æŒ‡å®š<code>stdin=True</code>ï¼Œå¦åˆ™ï¼Œpexpectçš„send()å°†æ— æ³•å°†å‘½ä»¤å‘é€è‡³container</li><li>åŒæ ·ï¼Œåœ¨ä½¿ç”¨exec_run()æ—¶ï¼Œéœ€è¦æŒ‡å®š<code>tty=True</code>ï¼Œå¦åˆ™ï¼Œå°†æ²¡æœ‰å‘½ä»¤è¡Œæç¤ºç¬¦ï¼Œæ— æ³•è¿›è¡ŒåŒ¹é…</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æŠ˜è…¾äº†ä¸€å‘¨å¤šï¼Œç»ˆäºæå®šäº†åœ¨dockerçš„python APIä¸‹ï¼Œå½“æ‰§è¡Œexec_runæ—¶ï¼Œå¦‚ä½•è¿æ¥containerçš„PTYã€‚&lt;/p&gt;
&lt;p&gt;å½“å¼„æ˜ç™½ä¹‹åï¼Œæ‰å‘ç°åŸæ¥æ˜¯é‚£ä¹ˆç®€å•ã€‚ä¹‹å‰å‡ ä¹æœéäº†googleå’Œç™¾åº¦ï¼Œéƒ½æ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„æ–‡ç« &lt;/p&gt;
    
    </summary>
    
      <category term="docker" scheme="http://blog.simble.xyz/categories/docker/"/>
    
    
      <category term="docker" scheme="http://blog.simble.xyz/tags/docker/"/>
    
      <category term="pexpect" scheme="http://blog.simble.xyz/tags/pexpect/"/>
    
      <category term="è‡ªåŠ¨åŒ–" scheme="http://blog.simble.xyz/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>dockerptyä½¿ç”¨</title>
    <link href="http://blog.simble.xyz/post/1c49a9aa.html"/>
    <id>http://blog.simble.xyz/post/1c49a9aa.html</id>
    <published>2018-05-03T02:34:40.000Z</published>
    <updated>2018-05-04T09:58:47.874Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡åšå®¢å°†ä»‹ç»åœ¨ä½¿ç”¨docker APIæ—¶ï¼Œå¦‚ä½•ç›‘ç®¡containerçš„PTYå®ç°äº¤äº’</p><h2 id="é—®é¢˜å¼•å…¥"><a class="markdownIt-Anchor" href="#é—®é¢˜å¼•å…¥"></a> é—®é¢˜å¼•å…¥</h2><p>dockerå®˜æ–¹å·²ç»æä¾›äº†APIç”¨æ¥ç®¡ç†clientï¼Œcontainerï¼Œimageï¼Œnetworkç­‰ï¼ŒåŸºæœ¬çš„æ“ä½œè¦†ç›–äº†docker CLIç›¸å…³åŠŸèƒ½ï¼Œä½†dockerçš„APIç°åœ¨åªèƒ½ä½¿ç”¨exec_runæ¥æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼Œä¸­é—´æ— æ³•è¿›è¡Œäº¤äº’ï¼Œå¸Œæœ›èƒ½æœ‰ä¸€ä¸ªç±»ä¼¼äº<code>-it</code>çš„æ–¹å¼æ¥å®Œæˆäº¤äº’æ“ä½œã€‚</p><p>ç»è¿‡å‡ å¤©çš„å­¦ä¹ å’Œæµ‹è¯•ï¼Œå‘ç°å…¶å®dockerçš„<code>containers.run()</code>å’Œ<code>containers.exec_run()</code>éƒ½æ˜¯å¯ä»¥è®¾ç½®<code>stdin=True</code>, <code>tty=True</code>ã€‚ä½†å¼€å¯è¿™äº›ä¹‹åï¼Œå°†è¿”å›ä¸€ä¸ªsocketï¼Œéœ€è¦è‡ªå·±æ¥è¿›è¡Œå¤„ç†ã€‚</p><p>googleå¤§æ³•åï¼Œæ‰¾åˆ°äº†ä¸€ä¸ª<strong>dockerpty</strong>çš„python libï¼Œå¯ä»¥å®Œæˆè¿™ä»¶äº‹æƒ…</p><a id="more"></a><h2 id="ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#ç¯å¢ƒæ­å»º"></a> ç¯å¢ƒæ­å»º</h2><p>æ ¹æ®<a href="https://github.com/d11wtq/dockerpty" target="_blank" rel="noopener">dockerpty</a>çš„githubä¸Šæåˆ°çš„å®‰è£…è¿‡ç¨‹ï¼Œåªéœ€è¦<code>pip install dockerpty</code>å³å¯å®Œæˆå®‰è£…ã€‚</p><p>ä½†æºç å·²ç»æœ‰ä¸¤å¹´æ²¡æœ‰æ›´æ–°äº†ï¼Œè¯¥ç‰ˆæœ¬æ— æ³•åœ¨æ–°çš„docker APIä¸Šæ­£å¸¸å·¥ä½œ</p><p>forkäº†å·¥ç¨‹åï¼Œå¯¹å…¶ä¸­çš„ä»£ç æ¶‰åŠåˆ°çš„docker APIè¿›è¡Œæ›´æ–°åï¼Œæµ‹è¯•å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œæœ€æ–°çš„ä»£ç å·²ç»ä¸Šä¼ åˆ°gitä¸Š<a href="https://github.com/simble1986/dockerpty" target="_blank" rel="noopener">simble1986/dockerpty</a></p><h4 id="ä¾èµ–"><a class="markdownIt-Anchor" href="#ä¾èµ–"></a> ä¾èµ–</h4><p>åŸæœ‰çš„projectä¸Šæåˆ°ä¾èµ–çš„docker apiä¸º<code>docker-py&gt;=0.3.2</code>ï¼Œä½†dockerçš„python APIå·²ç»æ›´æ–°</p><ul><li>å®‰è£…docker API</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install docker</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…æ­¥éª¤"><a class="markdownIt-Anchor" href="#å®‰è£…æ­¥éª¤"></a> å®‰è£…æ­¥éª¤</h4><ul><li>è·å–æºç </li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/simble1986/dockerpty.git</span><br></pre></td></tr></table></figure><ul><li>å®‰è£…</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pip uninstall dockerpty</span><br><span class="line">$ <span class="built_in">cd</span> dockerpty</span><br><span class="line">$ python setup.py install</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³api"><a class="markdownIt-Anchor" href="#ç›¸å…³api"></a> ç›¸å…³API</h2><p>å‚çœ‹dockerå®˜æ–¹<a href="https://docker-py.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener">APIæ–‡æ¡£</a>ï¼Œä»¥ä¸‹ä¸»è¦å¯¹containerç›¸å…³å‚æ•°åŠ ä»¥è¯´æ˜</p><ul><li>ttyÂ (bool) â€“ Allocate a pseudo-TTY.</li><li>stdin_openÂ (bool) â€“ KeepÂ STDINÂ open even if not attached.</li></ul><h2 id="åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#åŸºæœ¬ä½¿ç”¨"></a> åŸºæœ¬ä½¿ç”¨</h2><ul><li>è¿æ¥client</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@slt-docker:/home/bqi<span class="comment"># python</span></span><br><span class="line">Python <span class="number">2.7</span><span class="number">.12</span> (default, Dec  <span class="number">4</span> <span class="number">2017</span>, <span class="number">14</span>:<span class="number">50</span>:<span class="number">18</span>)</span><br><span class="line">[GCC <span class="number">5.4</span><span class="number">.0</span> <span class="number">20160609</span>] on linux2</span><br><span class="line">Type <span class="string">"help"</span>, <span class="string">"copyright"</span>, <span class="string">"credits"</span> <span class="keyword">or</span> <span class="string">"license"</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> docker</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> dockerpty</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>client=docker.from_env()</span><br></pre></td></tr></table></figure><p><strong>æ³¨</strong>ï¼š æ”¯æŒè¿œç¨‹API</p><ul><li>åˆ›å»ºcontainer</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>test1 = client.containers.create(<span class="string">"ubuntu"</span>,<span class="string">"/bin/bash"</span>,tty=<span class="keyword">True</span>,stdin_open=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨dockerpty</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dockerpty.start(client,test1)</span><br><span class="line">root@d6ddcf619602:/<span class="comment"># ls</span></span><br><span class="line">bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line">root@d6ddcf619602:/<span class="comment"># exit</span></span><br><span class="line">exit</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬ç¯‡åšå®¢å°†ä»‹ç»åœ¨ä½¿ç”¨docker APIæ—¶ï¼Œå¦‚ä½•ç›‘ç®¡containerçš„PTYå®ç°äº¤äº’&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜å¼•å…¥&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é—®é¢˜å¼•å…¥&quot;&gt;&lt;/a&gt; é—®é¢˜å¼•å…¥&lt;/h2&gt;
&lt;p&gt;dockerå®˜æ–¹å·²ç»æä¾›äº†APIç”¨æ¥ç®¡ç†clientï¼Œcontainerï¼Œimageï¼Œnetworkç­‰ï¼ŒåŸºæœ¬çš„æ“ä½œè¦†ç›–äº†docker CLIç›¸å…³åŠŸèƒ½ï¼Œä½†dockerçš„APIç°åœ¨åªèƒ½ä½¿ç”¨exec_runæ¥æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼Œä¸­é—´æ— æ³•è¿›è¡Œäº¤äº’ï¼Œå¸Œæœ›èƒ½æœ‰ä¸€ä¸ªç±»ä¼¼äº&lt;code&gt;-it&lt;/code&gt;çš„æ–¹å¼æ¥å®Œæˆäº¤äº’æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡å‡ å¤©çš„å­¦ä¹ å’Œæµ‹è¯•ï¼Œå‘ç°å…¶å®dockerçš„&lt;code&gt;containers.run()&lt;/code&gt;å’Œ&lt;code&gt;containers.exec_run()&lt;/code&gt;éƒ½æ˜¯å¯ä»¥è®¾ç½®&lt;code&gt;stdin=True&lt;/code&gt;, &lt;code&gt;tty=True&lt;/code&gt;ã€‚ä½†å¼€å¯è¿™äº›ä¹‹åï¼Œå°†è¿”å›ä¸€ä¸ªsocketï¼Œéœ€è¦è‡ªå·±æ¥è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;googleå¤§æ³•åï¼Œæ‰¾åˆ°äº†ä¸€ä¸ª&lt;strong&gt;dockerpty&lt;/strong&gt;çš„python libï¼Œå¯ä»¥å®Œæˆè¿™ä»¶äº‹æƒ…&lt;/p&gt;
    
    </summary>
    
      <category term="docker" scheme="http://blog.simble.xyz/categories/docker/"/>
    
    
      <category term="docker" scheme="http://blog.simble.xyz/tags/docker/"/>
    
      <category term="dockerpty" scheme="http://blog.simble.xyz/tags/dockerpty/"/>
    
  </entry>
  
  <entry>
    <title>Dockerä¸­æ— å¯†ç aptå®‰è£…mysql</title>
    <link href="http://blog.simble.xyz/post/70cf198a.html"/>
    <id>http://blog.simble.xyz/post/70cf198a.html</id>
    <published>2018-03-29T18:39:33.000Z</published>
    <updated>2018-05-04T09:57:55.926Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é—®é¢˜å‡ºç°"><a class="markdownIt-Anchor" href="#é—®é¢˜å‡ºç°"></a> é—®é¢˜å‡ºç°</h3><p>Linuxåœ¨ç¬¬ä¸€æ¬¡å®‰è£…æœ‰äº›è½¯ä»¶æ—¶ä¼šæœ‰äº¤äº’çš„è¾“å…¥çš„éœ€æ±‚ï¼Œæ¯”å¦‚mysqlåœ¨é¦–æ¬¡å®‰è£…æ—¶éœ€è¦è®¾ç½®rootçš„å¯†ç ã€‚è¿™åœ¨æ­£å¸¸é…ç½®è¿‡ç¨‹ä¸­æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†åœ¨ä½¿ç”¨DockerFileåˆ›å»ºdockeré•œåƒæ—¶ï¼Œåˆ™é‡åˆ°äº†éº»çƒ¦ã€‚</p><a id="more"></a><h3 id="è§£å†³æ€è·¯"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯"></a> è§£å†³æ€è·¯</h3><p>å¦‚æœå°†å®‰è£…å¥½çš„mysql-serverä½¿ç”¨apt removeä»ç³»ç»Ÿä¸­å¸è½½åï¼Œå†æ¬¡é‡æ–°å®‰è£…ï¼Œåˆ™ä¸å†éœ€è¦è¾“å…¥å¯†ç ã€‚å¦å¤–å½“å®‰è£…å®Œä¸€äº›è½¯ä»¶åï¼Œå¯ä»¥ä½¿ç”¨dpkg-configæ¥é‡æ–°é…ç½®ã€‚</p><p>è¿™æ ·ï¼Œå°±å¯ä»¥åœ¨å®‰è£…è½¯ä»¶å‰å…ˆå¯¹ç³»ç»Ÿåšå¥½ç›¸å…³é…ç½®ã€‚æ¥ä¸‹æ¥ï¼Œå°±æ˜¯éœ€è¦è·å–è½¯ä»¶çš„å¿…è¦é…ç½®é¡¹</p><h3 id="è·å–è½¯ä»¶å¿…è¦é…ç½®é¡¹"><a class="markdownIt-Anchor" href="#è·å–è½¯ä»¶å¿…è¦é…ç½®é¡¹"></a> è·å–è½¯ä»¶å¿…è¦é…ç½®é¡¹</h3><h4 id="ä¸‹è½½è½¯ä»¶åŒ…"><a class="markdownIt-Anchor" href="#ä¸‹è½½è½¯ä»¶åŒ…"></a> ä¸‹è½½è½¯ä»¶åŒ…</h4><p>å¯ä»¥é€šè¿‡ç½‘ä¸Šæœç´¢æ–¹å¼ä¸‹è½½ç›¸å…³çš„debåŒ…ï¼Œä½†ä¼—æ‰€å‘¨çŸ¥ï¼ŒLinuxçš„è½¯ä»¶åŒ…ç‰ˆæœ¬å¤šï¼Œå¾ˆå¤šæƒ…å†µä¸‹å¹¶ä¸çŸ¥é“éœ€è¦å®‰è£…å“ªä¸ªç‰ˆæœ¬ã€‚ä½†å¯ä»¥ä½¿ç”¨aptæ¥ä¸‹è½½ç›¸åº”çš„è½¯ä»¶åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get -d install -y mysql-server</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨apt-getçš„-då‚æ•°ï¼Œå°†åªä¼šä¸‹è½½ï¼Œä¸è¿›è¡Œå®‰è£…ã€‚ä¸‹è½½å®Œæ¯•åï¼Œè½¯ä»¶åŒ…ä½äº<code>/var/cache/apt/archives</code>ç›®å½•ä¸‹ã€‚</p><h4 id="è·å–é…ç½®é¡¹"><a class="markdownIt-Anchor" href="#è·å–é…ç½®é¡¹"></a> è·å–é…ç½®é¡¹</h4><p>è¿›å…¥è½¯ä»¶åŒ…çš„å­˜æ”¾ç›®å½•ï¼Œç„¶åæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg-preconfigure mysql-server-5.1_5.1.49-3_amd64.deb</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>debconfig-show</code>æ¥æŸ¥çœ‹ç›¸åº”çš„é…ç½®é¡¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ debconf-show mysql-server</span><br><span class="line">  mysql-server/root_password: (password omitted)</span><br><span class="line">  mysql-server/root_password_again: (password omitted)</span><br><span class="line">  mysql-server/error_setting_password:</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸¤é¡¹æ˜¯å¿…é¡»é…ç½®çš„ï¼š<code>mysql-server/root_password</code>å’Œ<code>mysql-server/root_password_again</code></p><h4 id="é¢„é…ç½®"><a class="markdownIt-Anchor" href="#é¢„é…ç½®"></a> é¢„é…ç½®</h4><ul><li>åˆ›å»ºé…ç½®æ–‡ä»¶</li></ul><p>åœ¨åˆé€‚çš„ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚<code>mysql-passwd</code>ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">debconf mysql-server/root_password password <span class="number">123456</span></span><br><span class="line">debconf mysql-server/root_password_again password <span class="number">123456</span></span><br></pre></td></tr></table></figure><ul><li>åŠ è½½é…ç½®</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ debconf-set-selections mysql-passwd</span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ç»“æœ"><a class="markdownIt-Anchor" href="#æµ‹è¯•ç»“æœ"></a> æµ‹è¯•ç»“æœ</h4><p>å†æ¬¡å®‰è£…mysql-serverï¼Œå°†ä¸å†éœ€è¦è¾“å…¥å¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install -y mysql-server</span><br></pre></td></tr></table></figure><h3 id="dockerfileå¤„ç†"><a class="markdownIt-Anchor" href="#dockerfileå¤„ç†"></a> DockerFileå¤„ç†</h3><p>DockerFileåº”å½“å°½é‡é¿å…ä¸éœ€è¦çš„æ“ä½œï¼Œæ‰€ä»¥ï¼Œè·å–é…ç½®é¡¹çš„æ“ä½œå¯ä»¥æå‰åœ¨å®éªŒç¯å¢ƒä¸­å®Œæˆã€‚</p><p>å¯å°†è·å–çš„å‘½ä»¤è¡Œä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œä½¿ç”¨æ—¶copyè¿‡å»ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">COPY</span><span class="bash"> ./mysql-passwd /tmp/mysql-passwd</span></span><br><span class="line"><span class="bash">RUN apt-get update &amp;&amp; debconf-set-selections /tmp/mysql-passwd &amp;&amp; apt-get install -yqq mysql-server  &amp;&amp; rm -rf /var/lib/apt/lists/*</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…æ˜¯åœ¨DockerFileä¸­ç›´æ¥ç”Ÿæˆï¼Œè¿™æ—¶åˆ™å¯ä»¥å°†mysql passwdè®¾ç½®ä¸ºå‚æ•°</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">echo</span> debconf mysql-server/root_password password 123456 &gt; /tmp/mysql-passwd &amp;&amp; <span class="built_in">echo</span> debconf mysql-server/root_password_again password 123456 &gt;&gt; /tmp/mysql-passwd</span></span><br><span class="line"><span class="bash">RUN apt-get update &amp;&amp; debconf-set-selections /tmp/mysql-passwd &amp;&amp; apt-get install -yqq mysql-server  &amp;&amp; rm -rf /var/lib/apt/lists/*</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;é—®é¢˜å‡ºç°&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é—®é¢˜å‡ºç°&quot;&gt;&lt;/a&gt; é—®é¢˜å‡ºç°&lt;/h3&gt;
&lt;p&gt;Linuxåœ¨ç¬¬ä¸€æ¬¡å®‰è£…æœ‰äº›è½¯ä»¶æ—¶ä¼šæœ‰äº¤äº’çš„è¾“å…¥çš„éœ€æ±‚ï¼Œæ¯”å¦‚mysqlåœ¨é¦–æ¬¡å®‰è£…æ—¶éœ€è¦è®¾ç½®rootçš„å¯†ç ã€‚è¿™åœ¨æ­£å¸¸é…ç½®è¿‡ç¨‹ä¸­æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†åœ¨ä½¿ç”¨DockerFileåˆ›å»ºdockeré•œåƒæ—¶ï¼Œåˆ™é‡åˆ°äº†éº»çƒ¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="docker" scheme="http://blog.simble.xyz/categories/docker/"/>
    
    
      <category term="docker" scheme="http://blog.simble.xyz/tags/docker/"/>
    
      <category term="DockerFile" scheme="http://blog.simble.xyz/tags/DockerFile/"/>
    
      <category term="mysql-server" scheme="http://blog.simble.xyz/tags/mysql-server/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+Nextä¸Šå¼€å¯Valineè¯„è®ºç³»ç»Ÿ</title>
    <link href="http://blog.simble.xyz/post/a072bce6.html"/>
    <id>http://blog.simble.xyz/post/a072bce6.html</id>
    <published>2018-03-27T13:11:51.000Z</published>
    <updated>2018-03-30T02:37:58.745Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‹å‹ä¹‹å‰é—®æ€ä¹ˆæ²¡æœ‰å¼€è¯„è®ºç³»ç»Ÿï¼Œå€’ä¸æ˜¯ä¸æƒ³å¼€ï¼Œè€Œæ˜¯åˆšå¼€å§‹å»ºç«™çš„æ—¶å€™æµè§ˆäº†å¥½å¤šåšæ–‡ï¼Œä¼¼ä¹å¾ˆå¤šåŸæ¥çš„æ¥å£éƒ½åœ¨hexoä¸å¤ªå¥½ç”¨äº†ã€‚ç‰¹åˆ«æ˜¯å¾ˆå¤šåšæ–‡éƒ½æ˜¯ä¸¤å¹´å‰å†™çš„ï¼Œå½“ç„¶ï¼Œå¤§å¤šæ•°å…¶ä»–åŠŸèƒ½éƒ½æ²¡é—®é¢˜</p><a id="more"></a><h2 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h2><h3 id="valine"><a class="markdownIt-Anchor" href="#valine"></a> Valine</h3><p><a href="https://valine.js.org/" target="_blank" rel="noopener">Valine</a>æ˜¯ä¸€æ¬¾åŸºäº<a href="https://leancloud.cn/" target="_blank" rel="noopener">Leancloud</a>çš„å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åç«¯è¯„è®ºç³»ç»Ÿã€‚</p><h3 id="leancloud"><a class="markdownIt-Anchor" href="#leancloud"></a> Leancloud</h3><p>æˆ‘çš„ç†è§£ï¼Œ<a href="https://leancloud.cn/" target="_blank" rel="noopener">Leancloud</a>ç›¸å½“äºæ˜¯ä¸€ä¸ªæ•°æ®æ‰˜ç®¡å¹³å°ï¼Œå¯ä»¥å¸®åŠ©åº”ç”¨å­˜å‚¨ç›¸å…³æ•°æ®ã€‚Valineä¸»è¦ç”¨åˆ°çš„æ˜¯å…¶ä¸­çš„æ•°æ®å­˜å‚¨â€”â€”comments</p><h2 id="ç¯å¢ƒè¯´æ˜"><a class="markdownIt-Anchor" href="#ç¯å¢ƒè¯´æ˜"></a> ç¯å¢ƒè¯´æ˜</h2><p>ä½¿ç”¨äº†æœ€æ–°ç‰ˆçš„<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>ä»¥åŠæœ€æ–°ç‰ˆçš„<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">Nextä¸»é¢˜</a></p><h2 id="è·å–appid"><a class="markdownIt-Anchor" href="#è·å–appid"></a> è·å–AppID</h2><h3 id="æ³¨å†Œleancloud"><a class="markdownIt-Anchor" href="#æ³¨å†Œleancloud"></a> æ³¨å†ŒLeancloud</h3><p>è®¿é—®<a href="https://leancloud.cn/" target="_blank" rel="noopener">Leancloud</a>ï¼Œç‚¹å‡»<a href="https://leancloud.cn/dashboard/login.html#/signup" target="_blank" rel="noopener">å…è´¹è¯•ç”¨</a>å°±ä¼šè·³è½¬åˆ°æ³¨å†Œ/ç™»é™†é¡µé¢ã€‚å½“å‰æ”¯æŒé€šè¿‡Githubï¼ŒWeiboä»¥åŠQQè¿›è¡Œæ³¨å†Œ</p><img src="/post/a072bce6/leancloud_signup.png" title="æ³¨å†Œé¡µé¢"><p><em>æ³¨å†Œå®Œåéœ€è¦éªŒè¯é‚®ç®±</em></p><h3 id="åˆ›å»ºåº”ç”¨"><a class="markdownIt-Anchor" href="#åˆ›å»ºåº”ç”¨"></a> åˆ›å»ºåº”ç”¨</h3><p>è®¿é—®<a href="https://leancloud.cn/applist.html" target="_blank" rel="noopener">æ§åˆ¶å°</a>ï¼Œåœ¨æ§åˆ¶å°ä¸­åˆ›å»ºæ–°åº”ç”¨</p><img src="/post/a072bce6/leancloud_new_app.png" title="åˆ›å»ºåº”ç”¨"><h3 id="è·å–åº”ç”¨key"><a class="markdownIt-Anchor" href="#è·å–åº”ç”¨key"></a> è·å–åº”ç”¨Key</h3><p>ç‚¹å‡»æ–°åˆ›å»ºçš„åº”ç”¨â€”â€”è®¾ç½®â€”â€”åº”ç”¨Keyï¼Œä¿å­˜é¡µé¢ä¸Šçš„App IDä»¥åŠApp Keyä»¥å¤‡åç»­ä½¿ç”¨</p><img src="/post/a072bce6/leancloud_appkey.png" title="åº”ç”¨Key"><h2 id="é…ç½®valine"><a class="markdownIt-Anchor" href="#é…ç½®valine"></a> é…ç½®Valine</h2><p>åœ¨æœ€æ–°ç‰ˆçš„Nextä¸»é¢˜ä¸­ï¼Œå·²ç»åˆå…¥äº†Valineçš„é…ç½®ä»£ç ï¼Œä½¿å¾—é…ç½®èµ·æ¥éå¸¸å¿«æ·ã€‚è®¿é—®<a href="https://valine.js.org/#/hexo?id=hexo-theme-next" target="_blank" rel="noopener">Hexoä¸­ä½¿ç”¨Valine</a>ï¼Œç‚¹å‡»<a href="https://github.com/iissnan/hexo-theme-next/pull/1983" target="_blank" rel="noopener">merged</a>ï¼Œä¼šè·³è½¬åˆ°Nextä¸»é¢˜çš„mergeå†å²</p><h3 id="æ£€æŸ¥ç›¸å…³æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ£€æŸ¥ç›¸å…³æ–‡ä»¶"></a> æ£€æŸ¥ç›¸å…³æ–‡ä»¶</h3><p>å¯ä»¥å†æ¬¡æ£€æŸ¥å¹¶ç¡®è®¤<span id="inline-yellow">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>_config.xmlï¼Œ<code>layout/_macro/post.swig</code>å’Œ<code>layout/_third-party/comments/valine.swig</code>æ˜¯å¦éƒ½å·²ç»åˆå…¥äº†ç›¸å…³ä»£ç </p><h3 id="é…ç½®appkey"><a class="markdownIt-Anchor" href="#é…ç½®appkey"></a> é…ç½®AppKey</h3><p>ç¼–è¾‘<span id="inline-yellow">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>_config.xmlä¸­çš„valineéƒ¨åˆ†å†…å®¹</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">  enable: true</span><br><span class="line">  appid: $Your APP ID # your leancloud application appid</span><br><span class="line">  appkey: $Your APP Key # your leancloud application appkey</span><br><span class="line">  notify: false # mail notifier , http<span class="variable">s:</span>//github.<span class="keyword">com</span>/xCss/Valine/wiki</span><br><span class="line">  verify: false # Verification code</span><br><span class="line">  placeholder: éšä¾¿è¯´äº›ä»€ä¹ˆå§ # comment box placeholder</span><br><span class="line">  avatar: mm # gravatar style</span><br><span class="line">  guest_info: nick,mail,link # custom comment header</span><br><span class="line">  pageSize: <span class="number">10</span> # pagination size</span><br></pre></td></tr></table></figure><h3 id="é‡æ–°ç”Ÿæˆé¡µé¢"><a class="markdownIt-Anchor" href="#é‡æ–°ç”Ÿæˆé¡µé¢"></a> é‡æ–°ç”Ÿæˆé¡µé¢</h3><p>æ‰§è¡Œå‘½ä»¤ï¼Œé‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p><strong>åˆ°è¿™é‡Œï¼ŒæŸ¥çœ‹é¡µé¢å·²ç»å¯ä»¥çœ‹åˆ°è¯„è®ºç³»ç»Ÿ</strong></p><h2 id="åˆ›å»ºç•™è¨€é¡µé¢"><a class="markdownIt-Anchor" href="#åˆ›å»ºç•™è¨€é¡µé¢"></a> åˆ›å»ºç•™è¨€é¡µé¢</h2><p>å¯ä»¥ä¸ºç«™ç‚¹åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ç•™è¨€æ¿é¡µé¢</p><h3 id="åˆ›å»ºé¡µé¢"><a class="markdownIt-Anchor" href="#åˆ›å»ºé¡µé¢"></a> åˆ›å»ºé¡µé¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page guestbook</span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä¸»é¢˜"><a class="markdownIt-Anchor" href="#é…ç½®ä¸»é¢˜"></a> é…ç½®ä¸»é¢˜</h3><ul><li>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</li></ul><p>åœ¨<span id="inline-yellow">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>_config.xmlçš„menuå­—æ®µæ–°å¢guestbookå­—æ®µ</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">menu</span>:</span><br><span class="line">  home: / || home</span><br><span class="line">  <span class="keyword">tag</span><span class="variable">s:</span> /<span class="keyword">tags</span>/ || <span class="keyword">tags</span></span><br><span class="line">  categorie<span class="variable">s:</span> /categories/ || <span class="keyword">th</span></span><br><span class="line">  archive<span class="variable">s:</span> /archives/ || archive</span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #commonwea<span class="variable">l:</span> /<span class="number">404</span>/ || heartbeat</span><br><span class="line">  abou<span class="variable">t:</span> /about/ || user</span><br><span class="line">  guestbook: /guestbook/ || comments</span><br></pre></td></tr></table></figure><p><em>å¯ä»¥è®¿é—®<a href="https://fontawesome.com/v4.7.0/icons/" target="_blank" rel="noopener">fontawesome</a>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å›¾æ ‡æ¥ä½œä¸ºç•™è¨€æ¿çš„å›¾æ ‡</em></p><ul><li>æœ¬åœ°åŒ–å¤„ç†</li></ul><p>ç¼–è¾‘å¯¹åº”è¯­è¨€çš„é…ç½®æ–‡ä»¶<code>themes/next/languages/zh-CN.yml</code>ï¼Œåœ¨menuä¸­å¢åŠ guestbookçš„ä¸­æ–‡</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">menu</span>:</span><br><span class="line">  home: é¦–é¡µ</span><br><span class="line">  archive<span class="variable">s:</span> å½’æ¡£</span><br><span class="line">  categorie<span class="variable">s:</span> åˆ†ç±»</span><br><span class="line">  <span class="keyword">tag</span><span class="variable">s:</span> æ ‡ç­¾</span><br><span class="line">  abou<span class="variable">t:</span> å…³äº</span><br><span class="line">  <span class="built_in">search</span>: æœç´¢</span><br><span class="line">  schedule: æ—¥ç¨‹è¡¨</span><br><span class="line">  sitemap: ç«™ç‚¹åœ°å›¾</span><br><span class="line">  commonwea<span class="variable">l:</span> å…¬ç›Š <span class="number">404</span></span><br><span class="line">  guestbook: ç•™è¨€</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¾‘é¡µé¢"><a class="markdownIt-Anchor" href="#ç¼–è¾‘é¡µé¢"></a> ç¼–è¾‘é¡µé¢</h3><p>ç¼–è¾‘ä¹‹å‰ç”Ÿæˆçš„guestbooké¡µé¢</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: ç•™è¨€æ¿</span><br><span class="line">date: <span class="number">2018</span>-<span class="number">03</span>-<span class="number">26</span> <span class="number">23</span>:<span class="number">36</span>:<span class="number">19</span></span><br><span class="line">comment<span class="variable">s:</span> true</span><br><span class="line">---</span><br><span class="line"><span class="symbol">&lt;center&gt;</span>æ—¢ç„¶æ¥äº†ï¼Œå°±æ˜¯ä¸€ç§ç¼˜åˆ†ï¼Œç•™ä¸‹ç‚¹ä»€ä¹ˆå§:<span class="keyword">ca</span><span class="variable">t:</span>&lt;/<span class="keyword">center</span>&gt;</span><br></pre></td></tr></table></figure><p>é‡æ–°éƒ¨ç½²ä¹‹åå°±å¯ä»¥çœ‹åˆ°ç•™è¨€æ¿äº† ğŸ˜ƒ</p><h2 id="æ¸…é™¤æµ‹è¯•ç•™è¨€"><a class="markdownIt-Anchor" href="#æ¸…é™¤æµ‹è¯•ç•™è¨€"></a> æ¸…é™¤æµ‹è¯•ç•™è¨€</h2><p>ä¸ºäº†ç¡®ä¿ç•™è¨€åŠŸèƒ½å·²ç»æ­£å¸¸å·¥ä½œï¼Œéƒ½ä¼šæµ‹è¯•ä¸€ä¸‹ã€‚æµ‹è¯•å®Œæ¯•åï¼Œå¯ä»¥é€šè¿‡Leancloudçš„<a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">æ§åˆ¶å°</a>æ¸…é™¤æµ‹è¯•æ•°æ®</p><p>ç‚¹å‡»<em>myblog</em>â€”â€”å­˜å‚¨â€”â€”Commentsï¼Œå³å¯æŸ¥çœ‹å½“å‰ç•™è¨€ï¼Œé€‰ä¸­æµ‹è¯•æ—¶çš„ç•™è¨€ï¼Œåˆ é™¤å³å¯</p><img src="/post/a072bce6/leancloud_cleancomments.png" title="æ¸…é™¤æµ‹è¯•ç•™è¨€">]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‹å‹ä¹‹å‰é—®æ€ä¹ˆæ²¡æœ‰å¼€è¯„è®ºç³»ç»Ÿï¼Œå€’ä¸æ˜¯ä¸æƒ³å¼€ï¼Œè€Œæ˜¯åˆšå¼€å§‹å»ºç«™çš„æ—¶å€™æµè§ˆäº†å¥½å¤šåšæ–‡ï¼Œä¼¼ä¹å¾ˆå¤šåŸæ¥çš„æ¥å£éƒ½åœ¨hexoä¸å¤ªå¥½ç”¨äº†ã€‚ç‰¹åˆ«æ˜¯å¾ˆå¤šåšæ–‡éƒ½æ˜¯ä¸¤å¹´å‰å†™çš„ï¼Œå½“ç„¶ï¼Œå¤§å¤šæ•°å…¶ä»–åŠŸèƒ½éƒ½æ²¡é—®é¢˜&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://blog.simble.xyz/categories/hexo/"/>
    
    
      <category term="blog" scheme="http://blog.simble.xyz/tags/blog/"/>
    
      <category term="Next" scheme="http://blog.simble.xyz/tags/Next/"/>
    
      <category term="Valine" scheme="http://blog.simble.xyz/tags/Valine/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Ubuntu 16.04ä¸Šå¼€å¯Dockerçš„Remote API</title>
    <link href="http://blog.simble.xyz/post/3e41aa59.html"/>
    <id>http://blog.simble.xyz/post/3e41aa59.html</id>
    <published>2018-03-27T06:42:58.000Z</published>
    <updated>2018-05-04T09:59:45.010Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºè‡ªåŠ¨åŒ–çš„è€ƒè™‘ï¼Œéœ€è¦ç”¨dockerçš„remote APIï¼Œå°è¯•äº†å¤šç§æ–¹æ³•ï¼Œæœ€ç»ˆæ‰æ‰¾åˆ°äº†å¯è¡Œçš„æ–¹æ³•</p><h3 id="å¯è¡Œçš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#å¯è¡Œçš„æ–¹æ³•"></a> å¯è¡Œçš„æ–¹æ³•</h3><ul><li>ç¼–è¾‘/lib/systemd/system/docker.service</li></ul><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /lib/systemd/system/docker.service</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹ExecStartçš„å‚æ•°</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2375</span><br></pre></td></tr></table></figure><ul><li>éšåæ‰§è¡Œ<code>service docker restart</code>æ—¶ä¼šæç¤º<code>Warning: docker.service changed on disk. Run 'systemctl daemon-reload' to reload units.</code>åˆ™è¡¨ç¤ºé…ç½®æˆåŠŸ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><ul><li>é‡å¯dockeræœåŠ¡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service docker restart</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•æ˜¯å¦æˆåŠŸ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:2375/containers/json</span><br><span class="line">[&#123;<span class="string">"Id"</span>:<span class="string">"30c8e35f1292421d11f6b09385a4fc980d6abaca591d0f52b18dbad8e4f5be04"</span>,<span class="string">"Names"</span>:[<span class="string">"/clever_murdock"</span>],<span class="string">"Image"</span>:<span class="string">"portainer/portainer"</span>,<span class="string">"ImageID"</span>:<span class="string">"sha256:a8f2aeb34cf69178be1d152759fb17ccff7915faf750c82cd7d1851b12ec7b37"</span>,<span class="string">"Command"</span>:<span class="string">"/portainer"</span>,<span class="string">"Created"</span>:1520845664,<span class="string">"Ports"</span>:[&#123;<span class="string">"IP"</span>:<span class="string">"0.0.0.0"</span>,<span class="string">"PrivatePort"</span>:9000,<span class="string">"PublicPort"</span>:9000,<span class="string">"Type"</span>:<span class="string">"tcp"</span>&#125;],<span class="string">"Labels"</span>:&#123;&#125;,<span class="string">"State"</span>:<span class="string">"running"</span>,<span class="string">"Status"</span>:<span class="string">"Up 13 minutes"</span>,<span class="string">"HostConfig"</span>:&#123;<span class="string">"NetworkMode"</span>:<span class="string">"default"</span>&#125;,<span class="string">"NetworkSettings"</span>:&#123;<span class="string">"Networks"</span>:&#123;<span class="string">"bridge"</span>:&#123;<span class="string">"IPAMConfig"</span>:null,<span class="string">"Links"</span>:null,<span class="string">"Aliases"</span>:null,<span class="string">"NetworkID"</span>:<span class="string">"78fa057306e70838bab1e18359c86bd8eff7de2285c351784ad951cd7a73f8d1"</span>,<span class="string">"EndpointID"</span>:<span class="string">"e99ca98169320155c8833a8746be7d0e1c8d98186c75fba9d9bf2486367a4e00"</span>,<span class="string">"Gateway"</span>:<span class="string">"172.17.0.1"</span>,<span class="string">"IPAddress"</span>:<span class="string">"172.17.0.2"</span>,<span class="string">"IPPrefixLen"</span>:16,<span class="string">"IPv6Gateway"</span>:<span class="string">""</span>,<span class="string">"GlobalIPv6Address"</span>:<span class="string">""</span>,<span class="string">"GlobalIPv6PrefixLen"</span>:0,<span class="string">"MacAddress"</span>:<span class="string">"02:42:ac:11:00:02"</span>,<span class="string">"DriverOpts"</span>:null&#125;&#125;&#125;,<span class="string">"Mounts"</span>:[&#123;<span class="string">"Type"</span>:<span class="string">"bind"</span>,<span class="string">"Source"</span>:<span class="string">"/opt/portainer"</span>,<span class="string">"Destination"</span>:<span class="string">"/data"</span>,<span class="string">"Mode"</span>:<span class="string">""</span>,<span class="string">"RW"</span>:<span class="literal">true</span>,<span class="string">"Propagation"</span>:<span class="string">"rprivate"</span>&#125;,&#123;<span class="string">"Type"</span>:<span class="string">"bind"</span>,<span class="string">"Source"</span>:<span class="string">"/var/run/docker.sock"</span>,<span class="string">"Destination"</span>:<span class="string">"/var/run/docker.sock"</span>,<span class="string">"Mode"</span>:<span class="string">""</span>,<span class="string">"RW"</span>:<span class="literal">true</span>,<span class="string">"Propagation"</span>:<span class="string">"rprivate"</span>&#125;]&#125;]</span><br></pre></td></tr></table></figure><h3 id="ä¸å¯è¡Œçš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#ä¸å¯è¡Œçš„æ–¹æ³•"></a> ä¸å¯è¡Œçš„æ–¹æ³•</h3><p>åŒæ—¶åˆ—å‡ºåœ¨Ubuntuä¸Šä¸å¯è¡Œçš„æ–¹æ³•</p><ul><li>ä¿®æ”¹<code>/etc/default/docker</code>ä¸­çš„<code>DOCKER_OPTS</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DOCKER_OPTS=<span class="string">'-H fd:// -H tcp://0.0.0.0:2375'</span></span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹<code>/etc/init/docker.conf</code>ä¸­çš„<code>DOCKER_OPTS</code></li></ul><p><em>ç½‘ä¸Šæœ‰äººè¯´åœ¨Ubuntu14.04ä¸Šå¯ä»¥ç”Ÿæ•ˆ</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># modify these in /etc/default/$UPSTART_JOB (/etc/default/docker)</span></span><br><span class="line">        DOCKERD=/usr/bin/dockerd</span><br><span class="line">        DOCKER_OPTS=<span class="string">'-H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375'</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”±äºè‡ªåŠ¨åŒ–çš„è€ƒè™‘ï¼Œéœ€è¦ç”¨dockerçš„remote APIï¼Œå°è¯•äº†å¤šç§æ–¹æ³•ï¼Œæœ€ç»ˆæ‰æ‰¾åˆ°äº†å¯è¡Œçš„æ–¹æ³•&lt;/p&gt;
&lt;h3 id=&quot;å¯è¡Œçš„æ–¹æ³•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å¯è¡Œçš„æ–¹æ³•&quot;&gt;&lt;/a&gt; å¯è¡Œçš„æ–¹æ³•&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–è¾‘/lib/systemd/system/docker.service&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="docker" scheme="http://blog.simble.xyz/categories/docker/"/>
    
    
      <category term="docker" scheme="http://blog.simble.xyz/tags/docker/"/>
    
      <category term="è‡ªåŠ¨åŒ–" scheme="http://blog.simble.xyz/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨hexoæ­å»ºè‡ªå·±çš„åšå®¢â€”â€”åˆ›å»ºç«™ç‚¹</title>
    <link href="http://blog.simble.xyz/post/80ca9385.html"/>
    <id>http://blog.simble.xyz/post/80ca9385.html</id>
    <published>2018-03-25T15:29:30.000Z</published>
    <updated>2018-03-30T02:37:58.749Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…åŠé…ç½®"><a class="markdownIt-Anchor" href="#å®‰è£…åŠé…ç½®"></a> å®‰è£…åŠé…ç½®</h2><h3 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h3><p><a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€ä»‹ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œå¯ä»¥ä½¿ç”¨<a href="https://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a>è§£ææ–‡ç« å¹¶ç”Ÿæˆç½‘ç«™</p><a id="more"></a><h3 id="è¯´æ˜"><a class="markdownIt-Anchor" href="#è¯´æ˜"></a> è¯´æ˜</h3><p><span id="inline-blue">ç«™ç‚¹é…ç½®æ–‡ä»¶</span> <code>$site_dir/_config.xml</code></p><p><span id="inline-yellow">ä¸»é¢˜é…ç½®æ–‡ä»¶</span><code>$site_dir/theme/$theme_dir/_config</code></p><h3 id="å®‰è£…hexo"><a class="markdownIt-Anchor" href="#å®‰è£…hexo"></a> å®‰è£…hexo</h3><p>å½“ç¯å¢ƒå‡†å¤‡å¥½gitä»¥åŠnodejsåä¾¿å¯ä»¥å®‰è£…hexo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h3 id="å»ºç«™"><a class="markdownIt-Anchor" href="#å»ºç«™"></a> å»ºç«™</h3><p>å®‰è£…Hexoåï¼Œåˆ›å»ºç«™ç‚¹æ–‡ä»¶å­˜æ”¾çš„æ–‡ä»¶å¤¹ï¼Œå¦‚<em>blog</em>ï¼Œç„¶åæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init blog</span><br><span class="line">$ <span class="built_in">cd</span> blog</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>å®Œæˆåï¼Œblogç›®å½•ç»“æ„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ <span class="built_in">source</span></span><br><span class="line">|   â”œâ”€â”€ _drafts</span><br><span class="line">|   â””â”€â”€ _posts</span><br><span class="line">â””â”€â”€ themes</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a class="markdownIt-Anchor" href="#é…ç½®"></a> é…ç½®</h3><p>ä¿®æ”¹_config.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">your</span> <span class="string">site</span> <span class="string">tile</span></span><br><span class="line"><span class="attr">subtitle:</span> </span><br><span class="line"><span class="attr">description:</span> <span class="string">description</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">your</span> <span class="string">name</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-Hans</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">Asia/Shanghai</span></span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#å¸¸ç”¨å‘½ä»¤"></a> å¸¸ç”¨å‘½ä»¤</h3><ul><li>æ¸…é™¤ç¼“å­˜æ–‡ä»¶åŠå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨æœåŠ¡å™¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p><em>é»˜è®¤çŠ¶å†µä¸‹ï¼ŒæœåŠ¡å™¨å°†ä½¿ç”¨4000ç«¯å£ã€‚å¯ä»¥é€šè¿‡<code>hexo server -p 80</code>æ¥å°†serverç»‘å®šè‡³80ç«¯å£</em></p><ul><li>éƒ¨ç½²ç½‘ç«™<br>å¯å°†ç½‘ç«™æŒ‰ç…§_config.ymlä¸­çš„é…ç½®ç›´æ¥éƒ¨ç½²äºgithubç­‰ï¼ˆåç»­çœ‹å¿ƒæƒ…å†™æ­¥éª¤ï¼‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><h3 id="ä¸»é¢˜ä¿®æ”¹"><a class="markdownIt-Anchor" href="#ä¸»é¢˜ä¿®æ”¹"></a> ä¸»é¢˜ä¿®æ”¹</h3><p>å¯è®¿é—®hexoå®˜æ–¹<a href="https://hexo.io/themes/" target="_blank" rel="noopener">ä¸»é¢˜åº“</a>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¹¶ä¸‹è½½è‡³themeç›®å½•ä¸‹</p><p>ä¿®æ”¹_config.xmlä¸­çš„themeå­—æ®µ</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: landscape</span><br></pre></td></tr></table></figure><h2 id="å†™ä½œ"><a class="markdownIt-Anchor" href="#å†™ä½œ"></a> å†™ä½œ</h2><p>æœ‰ä¸¤ç§æ–¹æ³•åˆ›å»ºæ–‡ç« </p><h3 id="åˆ›å»ºæ–‡ç« "><a class="markdownIt-Anchor" href="#åˆ›å»ºæ–‡ç« "></a> åˆ›å»ºæ–‡ç« </h3><ul><li>hexoå‘½ä»¤è¡Œæ–¹å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &lt;layout&gt; title</span><br></pre></td></tr></table></figure><p><em>layoutä¸ºæ¨¡ç‰ˆ</em></p><p>å‘½ä»¤æ‰§è¡Œåï¼Œé»˜è®¤æ–‡ç« å°†ä½äºsource/_post/ç›®å½•ä¸‹ï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: test</span><br><span class="line">date: 2018-03-25 23:10:04</span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><ul><li>ç›´æ¥åˆ›å»ºæ–‡ä»¶</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="built_in">source</span>/_post/</span><br><span class="line">$ touch myfirstblog.md</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æ–‡ä»¶å†…å®¹ä¸ºç©ºï¼Œéœ€è¦è‡ªå·±æ·»åŠ ç›¸å…³å†…å®¹</p><h3 id="åˆ›å»ºæ ‡ç­¾é¡µ"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ ‡ç­¾é¡µ"></a> åˆ›å»ºæ ‡ç­¾é¡µ</h3><ul><li>é…ç½®ç¡®è®¤</li></ul><p>ç¡®è®¤<span id="inline-blue">ç«™ç‚¹é…ç½®æ–‡ä»¶</span>ä¸­æœ‰ä»¥ä¸‹å†…å®¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br></pre></td></tr></table></figure><p>ç¡®è®¤<span id="inline-yellow">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>ä¸­tagsæ‰“å¼€</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">ä¸»é¡µ:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="string">æ ‡ç­¾:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºæ ‡ç­¾é¡µ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page tags</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹tags/index.mdä¸­çš„typeä¸º&quot;tags&quot;</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Tagcloud</span><br><span class="line">date: 2018-03-23 01:18:00</span><br><span class="line">type: "tags"</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºåˆ†ç±»é¡µé¢"><a class="markdownIt-Anchor" href="#åˆ›å»ºåˆ†ç±»é¡µé¢"></a> åˆ›å»ºåˆ†ç±»é¡µé¢</h3><p>ä¸åˆ›å»ºæ ‡ç­¾é¡µç›¸ä¼¼</p><ul><li>ç¡®è®¤é…ç½®</li></ul><p><span id="inline-blue">ç«™ç‚¹é…ç½®æ–‡ä»¶</span>ä¸­æœ‰<code>category_dir: categories</code></p><p><span id="inline-yellow">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>ä¸­çš„<code>åˆ†ç±»: /categories/ || th</code>å¼€å¯</p><ul><li>åˆ›å»ºåˆ†ç±»ä¹Ÿ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page categories</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å®‰è£…åŠé…ç½®&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å®‰è£…åŠé…ç½®&quot;&gt;&lt;/a&gt; å®‰è£…åŠé…ç½®&lt;/h2&gt;
&lt;h3 id=&quot;ç®€ä»‹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç®€ä»‹&quot;&gt;&lt;/a&gt; ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://hexo.io&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€ä»‹ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œå¯ä»¥ä½¿ç”¨&lt;a href=&quot;https://daringfireball.net/projects/markdown/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Markdown&lt;/a&gt;è§£ææ–‡ç« å¹¶ç”Ÿæˆç½‘ç«™&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://blog.simble.xyz/categories/hexo/"/>
    
    
      <category term="blog" scheme="http://blog.simble.xyz/tags/blog/"/>
    
      <category term="hexo" scheme="http://blog.simble.xyz/tags/hexo/"/>
    
      <category term="markdown" scheme="http://blog.simble.xyz/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>dockeråŸºæœ¬æ“ä½œï¼ˆä¸€ï¼‰</title>
    <link href="http://blog.simble.xyz/post/493f285a.html"/>
    <id>http://blog.simble.xyz/post/493f285a.html</id>
    <published>2018-03-23T01:14:57.000Z</published>
    <updated>2018-05-04T09:58:13.843Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä½œä¸ºdockerä½¿ç”¨ç¬”è®°ä¾›å°ä¼™ä¼´ä»¬å‚è€ƒ</p><h2 id="å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#å‡†å¤‡å·¥ä½œ"></a> å‡†å¤‡å·¥ä½œ</h2><p>å®‰è£…æœ€æ–°ç‰ˆçš„docker-ceï¼Œä¼šå°†è‡ªåŠ¨å‘½ä»¤è¡Œè¡¥é½å®‰è£…åœ¨<code>/usr/share/bash-completion/completions/docker</code>ç›®å½•</p><a id="more"></a><p>ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œåœ¨ubuntuä¸Šæ‰“å¼€dockerå‘½ä»¤è¡Œè‡ªåŠ¨è¡¥é½åŠŸèƒ½</p><p>ç¼–è¾‘/etc/bash.bashrcæ–‡ä»¶ï¼ŒæŸ¥æ‰¾completionæ®µï¼Œå°†è¯¥æ®µå†…å®¹å‰çš„#åˆ é™¤å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># enable bash completion in interactive shells</span></span><br><span class="line"><span class="keyword">if</span> ! <span class="built_in">shopt</span> -oq posix; <span class="keyword">then</span></span><br><span class="line">  <span class="keyword">if</span> [ -f /usr/share/bash-completion/bash_completion ]; <span class="keyword">then</span></span><br><span class="line">    . /usr/share/bash-completion/bash_completion</span><br><span class="line">  <span class="keyword">elif</span> [ -f /etc/bash_completion ]; <span class="keyword">then</span></span><br><span class="line">    . /etc/bash_completion</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h2 id="imageæ“ä½œ"><a class="markdownIt-Anchor" href="#imageæ“ä½œ"></a> imageæ“ä½œ</h2><ul><li>build image</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t mytest:latest .</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹image</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker images</span><br><span class="line">REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">nginx                 &lt;none&gt;              73acd1f0cfad        8 days ago          109MB</span><br><span class="line">mongo                 3                   5b1317f8158f        8 days ago          366MB</span><br><span class="line">$ dockeer image ls</span><br></pre></td></tr></table></figure><ul><li>åˆ é™¤image</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker image rm &lt;id/name&gt;</span><br><span class="line">$ docker rmi &lt;id/name&gt;</span><br></pre></td></tr></table></figure><h3 id="ä»docker-hubä¸Šè·å–image"><a class="markdownIt-Anchor" href="#ä»docker-hubä¸Šè·å–image"></a> ä»docker hubä¸Šè·å–image</h3><p><em>å›½å†…è®¿é—®docker hubè¾ƒæ…¢ï¼Œå¯ä½¿ç”¨é˜¿é‡Œäº‘çš„dockeré•œåƒæœåŠ¡</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull nginx</span><br></pre></td></tr></table></figure><h2 id="continerç›¸å…³"><a class="markdownIt-Anchor" href="#continerç›¸å…³"></a> continerç›¸å…³</h2><h3 id="åˆ›å»ºdocker"><a class="markdownIt-Anchor" href="#åˆ›å»ºdocker"></a> åˆ›å»ºdocker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d --name mytest -p 80:80 mynginx</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‚æ•°è¯´æ˜</p><blockquote><p>â€“rm å½“è¿è¡Œç»“æŸï¼ˆ<mark>å½“CMDæˆ–entrypointæˆ–docker runå‘½ä»¤è¡ŒæŒ‡å®šçš„å‘½ä»¤è¿è¡Œç»“æŸæ—¶ï¼Œå®¹å™¨åœæ­¢</mark>ï¼‰æ—¶è‡ªåŠ¨åˆ é™¤docker<br><br>-it é‡å®šå‘dockerç»ˆç«¯<br><br>-d åœ¨åå°æ‰§è¡Œ<br><br>-e æ·»åŠ è¿è¡Œæ—¶çš„å‚æ•°ï¼Œå¸¸è¢«ç”¨äºdocker CMDæ‰§è¡Œæ—¶å¢åŠ å‚æ•°</p></blockquote><p><strong>dockeræ”¯æŒé•¿idå’ŒçŸ­idæ–¹å¼ç´¢å¼•ï¼Œäº¦å¯é€šè¿‡åç§°è¿›è¡Œç´¢å¼•</strong></p><ul><li>stop/start/restartå®¹å™¨</li></ul><ol><li>é€šè¿‡docker stopå¯ä»¥åœæ­¢è¿è¡Œçš„å®¹å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨docker killæ¥å¿«é€Ÿåœæ­¢ä¸€ä¸ªå®¹å™¨</li><li>docker startä¼šä¿ç•™å®¹å™¨çš„ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶çš„æ‰€æœ‰å‚æ•°</li><li>docker restartå¯ä»¥é‡å¯å®¹å™¨</li><li>å¯ä»¥åœ¨å¯åŠ¨å®¹å™¨æ—¶è®¾ç½®â€“restartæ¥è‡ªåŠ¨é‡å¯å®¹å™¨</li></ol><ul><li>åˆ é™¤å®¹å™¨</li></ul><ol><li>å¯ä»¥ä½¿ç”¨docker psåˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</li><li>å®¹å™¨åœæ­¢è¿è¡Œä¸ä»£è¡¨å®¹å™¨å·²ç»è¢«åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨docker ps -a</li><li>ä½¿ç”¨docker rmæ¥åˆ é™¤ä¸€ä¸ªå®¹å™¨</li><li>ä½¿ç”¨docker rmiåˆ™ä¼šåˆ é™¤dockerçš„image</li></ol><h3 id="æŸ¥çœ‹åŠæ“ä½œ"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹åŠæ“ä½œ"></a> æŸ¥çœ‹åŠæ“ä½œ</h3><ul><li>æŸ¥çœ‹å®¹å™¨çŠ¶æ€</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID        IMAGE                    COMMAND                   CREATED             STATUS              PORTS                        NAMES</span><br><span class="line">30c8e35f1292        portainer/portainer      <span class="string">"/portainer"</span>              10 days ago         Up 2 days           0.0.0.0:9000-&gt;9000/tcp       clever_murdock</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨docker ps -aæŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…å«ä¼‘çœ çŠ¶æ€ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID        IMAGE                    COMMAND                   CREATED             STATUS              PORTS                        NAMES</span><br><span class="line">30c8e35f1292        portainer/portainer      <span class="string">"/portainer"</span>              10 days ago         Up 2 days           0.0.0.0:9000-&gt;9000/tcp       clever_murdock</span><br><span class="line">ef58155f9957        registry:2               <span class="string">"/entrypoint.sh /etcâ€¦"</span>    2 days ago          Exited (137) 41 hours ago                                sltregistry</span><br></pre></td></tr></table></figure><ul><li>è¿æ¥åˆ°å®¹å™¨çš„ç»ˆç«¯</li></ul><p><em>å°½é‡ä½¿ç”¨execæ–¹æ³•ï¼Œattachè¿å…¥åå¯æŸ¥çœ‹å½“å‰å®¹å™¨å‘½ä»¤è¿è¡Œçš„æ—¥å¿—ï¼Œä½†ä¸å½“çš„æ“ä½œå®¹æ˜“ä½¿è¿è¡Œä¸­çš„å®¹å™¨é€€å‡º</em></p><ol><li>ä½¿ç”¨attach</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker attach &lt;id/name&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨exec</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">exec</span> -it &lt;id/name&gt; /bin/sh</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹å®¹å™¨è¿è¡Œçš„æ—¥å¿—</li></ul><p>å®¹å™¨ä»¥<code>-d</code>å‚æ•°è¿è¡Œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨docker logsæŸ¥çœ‹è¿è¡Œè¿‡ç¨‹ä¸­çš„æ—¥å¿—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker logs mytest_haproxy</span><br><span class="line">[WARNING] 079/100555 (1) : [haproxy.main()] Cannot raise FD <span class="built_in">limit</span> to 200000011, <span class="built_in">limit</span> is 1048576.</span><br><span class="line">[WARNING] 079/100555 (1) : [haproxy.main()] FD <span class="built_in">limit</span> (1048576) too low <span class="keyword">for</span> maxconn=100000000/maxsock=200000011. Please raise <span class="string">'ulimit-n'</span> to 200000011 or more to avoid any trouble.</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä½œä¸ºdockerä½¿ç”¨ç¬”è®°ä¾›å°ä¼™ä¼´ä»¬å‚è€ƒ&lt;/p&gt;
&lt;h2 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt; å‡†å¤‡å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;å®‰è£…æœ€æ–°ç‰ˆçš„docker-ceï¼Œä¼šå°†è‡ªåŠ¨å‘½ä»¤è¡Œè¡¥é½å®‰è£…åœ¨&lt;code&gt;/usr/share/bash-completion/completions/docker&lt;/code&gt;ç›®å½•&lt;/p&gt;
    
    </summary>
    
      <category term="docker" scheme="http://blog.simble.xyz/categories/docker/"/>
    
    
      <category term="docker" scheme="http://blog.simble.xyz/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨æ ‘è“æ´¾ä¸Šéƒ¨ç½²nodejs</title>
    <link href="http://blog.simble.xyz/post/4fa2931e.html"/>
    <id>http://blog.simble.xyz/post/4fa2931e.html</id>
    <published>2018-03-22T17:32:39.000Z</published>
    <updated>2018-03-30T02:37:58.749Z</updated>
    
    <content type="html"><![CDATA[<p>ç»ˆäºæœ‰æ—¶é—´åœ¨æ ‘è“æ´¾ä¸Šéƒ¨ç½²ä¸€ä¸ªè‡ªå·±çš„å°åšå®¢äº†ï¼Œå¹³æ—¶ç”¨æƒ¯äº†ubuntuï¼Œåˆ°äº†æ ‘è“æ´¾ä¸Šï¼Œå‘ç°å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ã€‚é¦–å…ˆå°±æ˜¯apt install nodejsï¼Œå®‰è£…å®Œæ²¡æœ‰npmã€‚ä¸è¿‡ï¼Œç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œä¾¿æœ‰äº†ç°åœ¨çš„å°ç«™ç‚¹</p><a id="more"></a><h2 id="å®‰è£…nodejs"><a class="markdownIt-Anchor" href="#å®‰è£…nodejs"></a> å®‰è£…nodejs</h2><p><a href="https://nodejs.org" target="_blank" rel="noopener">nodejs</a>å¯ä»¥ä½¿ç”¨æºç ç¼–è¯‘å’ŒäºŒè¿›åˆ¶åŒ…æ¥å®‰è£…ã€‚è€ƒè™‘åˆ°æ ‘è“æ´¾çš„å¤„ç†èƒ½åŠ›ï¼Œè¦ç¼–è¯‘ä¸€ä¸ªnodejsï¼Œå¤ªè¿‡è€—æ—¶ã€‚ç›´æ¥é€‰ç”¨å®˜ç½‘æä¾›çš„äºŒè¿›åˆ¶åŒ…å®Œæˆå®‰è£…</p><h3 id="å®‰è£…åŒ…è·å–"><a class="markdownIt-Anchor" href="#å®‰è£…åŒ…è·å–"></a> å®‰è£…åŒ…è·å–</h3><p>å®˜ç½‘ä¸ŠARMçš„binåŒ…æœ‰3ä¸ªï¼Œåˆ†åˆ«æ˜¯v6ï¼Œv7å’Œv8ã€‚è€Œæ ‘è“æ´¾çš„ç‰ˆæœ¬æ˜¯v7</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ uname -a</span><br><span class="line">Linux raspberrypi 4.9.80-v7+ <span class="comment">#1098 SMP Fri Mar 9 19:11:42 GMT 2018 armv7l GNU/Linux</span></span><br></pre></td></tr></table></figure><p>è·å–<a href="https://nodejs.org/dist/v8.10.0/node-v8.10.0-linux-armv7l.tar.xz" target="_blank" rel="noopener">å®‰è£…åŒ…</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://nodejs.org/dist/v8.10.0/node-v8.10.0-linux-armv7l.tar.xz</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…nodejs-2"><a class="markdownIt-Anchor" href="#å®‰è£…nodejs-2"></a> å®‰è£…nodejs</h3><p>è§£å‹ç¼©</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ tar -Jxv -f node-v8.10.0-linux-armv7l.tar.xz</span><br><span class="line">node-v8.10.0-linux-armv7l/</span><br><span class="line">node-v8.10.0-linux-armv7l/README.md</span><br><span class="line">node-v8.10.0-linux-armv7l/bin/</span><br><span class="line">node-v8.10.0-linux-armv7l/bin/node</span><br><span class="line">node-v8.10.0-linux-armv7l/bin/npm</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>å¯æ ¹æ®ä¸ªäººå–œå¥½é‡å‘½åæ–‡ä»¶å¤¹ï¼Œæ­¤å¤„é‡å‘½åä¸ºnodeï¼Œåˆ†åˆ«éªŒè¯ç‰ˆæœ¬ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~/node $ ./bin/node -v</span><br><span class="line">v8.10.0</span><br><span class="line">pi@raspberrypi:~/node $ ./bin/npm -v</span><br><span class="line">5.6.0</span><br></pre></td></tr></table></figure><p>é…ç½®nodeå’Œnpmä¸ºå…¨å±€å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~/node $ sudo ln /home/pi/node/bin/node /usr/<span class="built_in">local</span>/bin/node</span><br><span class="line">pi@raspberrypi:~/node $ sudo ln -s /home/pi/node/lib/node_modules/npm/bin/npm /usr/<span class="built_in">local</span>/bin/npm</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æ‰§è¡Œnpmä¼šæŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~/node $ npm -v</span><br><span class="line">module.js:471</span><br><span class="line">    throw err;</span><br><span class="line">    ^</span><br><span class="line"></span><br><span class="line">Error: Cannot find module <span class="string">'/usr/local/bin/node_modules/npm/bin/npm-cli.js'</span></span><br></pre></td></tr></table></figure><p>éœ€è¦ä¿®æ”¹/usr/local/bin/ç›®å½•ä¸‹çš„npmæ–‡ä»¶ï¼Œå°†$basediræ›¿æ¢ä¸ºç»å¯¹è·¯å¾„ï¼Œæ­¤å¤„ä¸º/home/pi/node/</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/<span class="keyword">sh</span></span><br><span class="line">(set -o igncr) 2&gt;/dev/null &amp;&amp; set -o igncr; # cygwin encoding fix</span><br><span class="line"></span><br><span class="line">basedir=`dirname <span class="string">"$0"</span>`</span><br><span class="line"></span><br><span class="line">case `uname` in</span><br><span class="line">    *CYGWIN*) basedir=`cygpath -w "$basedir"`;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">NODE_EXE=<span class="string">"/home/pi/node/bin/node.exe"</span></span><br><span class="line">if ! [ -x "$NODE_EXE" ]; then</span><br><span class="line">  NODE_EXE=node</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">NPM_CLI_JS=<span class="string">"/home/pi/node/lib/node_modules/npm/bin/npm-cli.js"</span></span><br><span class="line"></span><br><span class="line">case `uname` in</span><br><span class="line">  *MINGW*)</span><br><span class="line">    NPM_PREFIX=`<span class="string">"$NODE_EXE"</span> <span class="string">"$NPM_CLI_JS"</span> prefix -g`</span><br><span class="line">    NPM_PREFIX_NPM_CLI_JS=<span class="string">"$NPM_PREFIX/node_modules/npm/bin/npm-cli.js"</span></span><br><span class="line">    if [ -f "$NPM_PREFIX_NPM_CLI_JS" ]; then</span><br><span class="line">      NPM_CLI_JS=<span class="string">"$NPM_PREFIX_NPM_CLI_JS"</span></span><br><span class="line">    fi</span><br><span class="line">    ;;</span><br><span class="line">  *CYGWIN*)</span><br><span class="line">    NPM_PREFIX=`<span class="string">"$NODE_EXE"</span> <span class="string">"$NPM_CLI_JS"</span> prefix -g`</span><br><span class="line">    NPM_PREFIX_NPM_CLI_JS=<span class="string">"$NPM_PREFIX/node_modules/npm/bin/npm-cli.js"</span></span><br><span class="line">    if [ -f "$NPM_PREFIX_NPM_CLI_JS" ]; then</span><br><span class="line">      NPM_CLI_JS=<span class="string">"$NPM_PREFIX_NPM_CLI_JS"</span></span><br><span class="line">    fi</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line"><span class="string">"$NODE_EXE"</span> <span class="string">"$NPM_CLI_JS"</span> <span class="string">"$@"</span></span><br></pre></td></tr></table></figure><p>å†æ¬¡éªŒè¯ï¼Œnpmå·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œ</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»ˆäºæœ‰æ—¶é—´åœ¨æ ‘è“æ´¾ä¸Šéƒ¨ç½²ä¸€ä¸ªè‡ªå·±çš„å°åšå®¢äº†ï¼Œå¹³æ—¶ç”¨æƒ¯äº†ubuntuï¼Œåˆ°äº†æ ‘è“æ´¾ä¸Šï¼Œå‘ç°å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ã€‚é¦–å…ˆå°±æ˜¯apt install nodejsï¼Œå®‰è£…å®Œæ²¡æœ‰npmã€‚ä¸è¿‡ï¼Œç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œä¾¿æœ‰äº†ç°åœ¨çš„å°ç«™ç‚¹&lt;/p&gt;
    
    </summary>
    
      <category term="æ ‘è“æ´¾" scheme="http://blog.simble.xyz/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
    
      <category term="æ ‘è“æ´¾" scheme="http://blog.simble.xyz/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="nodejs" scheme="http://blog.simble.xyz/tags/nodejs/"/>
    
      <category term="pi" scheme="http://blog.simble.xyz/tags/pi/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://blog.simble.xyz/post/4a17b156.html"/>
    <id>http://blog.simble.xyz/post/4a17b156.html</id>
    <published>2018-03-22T11:14:57.000Z</published>
    <updated>2018-03-30T02:37:58.745Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
